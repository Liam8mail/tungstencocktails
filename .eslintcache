[{"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\index.js":"1","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\reportWebVitals.js":"2","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\App.js":"3","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\services\\authService.js":"4","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\services\\userService.js":"5","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\SearchCocktail.js":"6","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\Pantry.jsx":"7","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\SimpleNav.jsx":"8","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\LoginForm.jsx":"9","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\services\\httpService.js":"10","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\search-results.js":"11","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\services\\apiService.js":"12","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\search-form.js":"13","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\recipe-results.js":"14","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\recipe-viewer.js":"15","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\util\\imgPicker.js":"16","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\hooks\\useGetPantry.jsx":"17","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\hooks\\useFormInput.jsx":"18","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\hooks\\useLoginStatus.jsx":"19","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\AddIngredient.jsx":"20","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\staticJSONsearchResults.js":"21","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\hooks\\useGetIngredient.js":"22","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\Fav.jsx":"23","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\hooks\\useGetFavs.jsx":"24"},{"size":627,"mtime":1608204102000,"results":"25","hashOfConfig":"26"},{"size":362,"mtime":1608204102000,"results":"27","hashOfConfig":"26"},{"size":2413,"mtime":1608312499714,"results":"28","hashOfConfig":"26"},{"size":934,"mtime":1608204102000,"results":"29","hashOfConfig":"26"},{"size":984,"mtime":1608312499826,"results":"30","hashOfConfig":"26"},{"size":15113,"mtime":1608308750847,"results":"31","hashOfConfig":"26"},{"size":9580,"mtime":1608296114352,"results":"32","hashOfConfig":"26"},{"size":2057,"mtime":1608296866664,"results":"33","hashOfConfig":"26"},{"size":5966,"mtime":1608291635691,"results":"34","hashOfConfig":"26"},{"size":1191,"mtime":1608204102000,"results":"35","hashOfConfig":"26"},{"size":1737,"mtime":1608231546088,"results":"36","hashOfConfig":"26"},{"size":703,"mtime":1608204102000,"results":"37","hashOfConfig":"26"},{"size":793,"mtime":1608289630730,"results":"38","hashOfConfig":"26"},{"size":4234,"mtime":1608294919100,"results":"39","hashOfConfig":"26"},{"size":5104,"mtime":1608302601233,"results":"40","hashOfConfig":"26"},{"size":5840,"mtime":1608312499858,"results":"41","hashOfConfig":"26"},{"size":2421,"mtime":1608204102000,"results":"42","hashOfConfig":"26"},{"size":457,"mtime":1608204102000,"results":"43","hashOfConfig":"26"},{"size":1571,"mtime":1608204102000,"results":"44","hashOfConfig":"26"},{"size":3653,"mtime":1608312499744,"results":"45","hashOfConfig":"26"},{"size":1120,"mtime":1608204102000,"results":"46","hashOfConfig":"26"},{"size":1919,"mtime":1608204102000,"results":"47","hashOfConfig":"26"},{"size":2688,"mtime":1608313986654,"results":"48","hashOfConfig":"26"},{"size":2406,"mtime":1608312499799,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"3o4fs0",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"52"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"52"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"52"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\index.js",[],["102","103"],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\reportWebVitals.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\App.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\services\\authService.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\services\\userService.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\SearchCocktail.js",["104","105","106"],"/*\nNO API KEY!? ...no worries!\nNB: In case you missed the description:\nThis code may not include the required API key to display results. The pvt API key is stored in a file \".env\" which IS included in the GitHub.\n\nThe code works with/without the API key though, for:\n  1) display, search and selection of possible ingredients.\n  2) add/removal of search filters (ingredients).\n  3) searching cocktail database for cocktails with chosen ingredients (will be dummy results if API key is not present)\n  4) Returning a list of cocktails which contain those ingredients. (will be dummy results if API key is not present)\n  5) Selecting a cocktail and loading the approprate page from the database, and displaying the instructions/recipe.\n*/\n\nimport React, { useEffect, useState } from \"react\";\n\n// The following two components are shown on the first/start page of the search (they could probably do with being merged really):\nimport SearchResults from \"./search-results\"; // NB: this search results is list of INGREDIENTS. Recipe search results is below.\nimport SearchForm from \"./search-form\";\n//\nimport RecipeResults from \"./recipe-results\"; // This component displays the results of searching for cocktails with certain ingredients\nimport RecipeViewer from \"./recipe-viewer\"; // This component displays a specific cocktail recipe, once chosen\nimport apiFetch from '../../services/apiService';\n//\nimport '../../style/style.css'; // CSS\nimport '../../index.css';\nimport useGetPantry from \"../../hooks/useGetPantry\";\nimport imgPicker from '../../util/imgPicker';\n\n\nconst API_KEY = true; // import API key from .env file\n\nexport default function SearchCocktail(props) {\n \n\n    const  [searchTerm, setSearchTerm] = useState(\"\"); // stores user input into the searchbar\n    const  [len, setLen] = useState(0);  // this stores character length  of the search term. Useful if hiding results until len !=0\n    const  [filters,setFilters] = useState([]);  // this stores selected ingredients\n    const  [apiData, setApiData] = useState([]);  // this stores the JSON result for THE LIST OF INGREDIENTS. This is a list of 100 ingredients provided by the database admins.\n    const  [isFetched, setIsFetched] = useState(false);  // check JSON returned / not returned\n    const  [errorMsg,setErrorMsg] = useState(null);  // if fail to mount API, this will store the error message.\n    const  [resultsURL, setResultsURL] = useState(\"\");  // this stores the URL to get the search results. It is given its value by a function, makeResultsURL, before mounting the results component.\n    const  [recipeURL, setRecipeURL] = useState(\"\");  // this stores the URL to get the specific recipe instructions. A similar function gives it its value: makeInstructionsURL.\n    const  [display,setDisplay] = useState(props.setDisplay);  // this determines which component is displayed (values: \"searchpage\", \"recipe-results\", \"recipe-viewer\")\n\n    const  [usePantry, setUsePantry] = useState();\n    const  {status, ingredients} = useGetPantry(usePantry);\n    \n    // Binding functions in order to pass them to components:\n    // this.onSearchFormChange = this.onSearchFormChange.bind(this);\n    // this.handleFilterSelection = this.handleFilterSelection.bind(this);\n    // this.compareAbc = this.compareAbc.bind(this);\n    // this.returnToSearch = this.returnToSearch.bind(this);\n    // this.makeInstructionsURL = this.makeInstructionsURL.bind(this);\n    // this.returnFromRecipe = this.returnFromRecipe.bind(this);\n  \n\n  function onSearchFormChange(e) { // this detects user input in the search bar and updates state with the current search info\n    setSearchTerm(e.target.value);\n    let sTerm = e.target.value;\n    let numChars = sTerm.length;\n    setLen(numChars);\n  }\n\n  // \n  // async componentDidMount() { // this loads the API / JSON data for the start of the search: the list of 100 ingredients\n  //   try {\n  //     const jsonResult = await apiFetch('/list.php?i=list');\n  //     console.log(jsonResult);\n  //     this.setState({ apiData: jsonResult.drinks });\n  //     this.setState({ isFetched: true });\n  //   } catch (error) {\n  //     this.setState({ isFetched: false });\n  //     this.setState({ errorMsg: error });\n  //   }\n  // }\n    // useEffect(() => {\n    //   if (!usePantry) return;\n\n      \n    // },[status, ingredients, usePantry])\n    \n    \n    \n    useEffect(() => {\n        \n      let isMounted = true;\n      async function requestIngredients(){\n        \n        if (!usePantry){\n                let jsonResult;\n                try {\n                  jsonResult = await apiFetch('/list.php?i=list');\n                  \n                    if(isMounted){\n                      setApiData(jsonResult.drinks);\n                      setIsFetched(true);\n                    }\n                  } catch (error) {\n                    setIsFetched(false);\n                    setErrorMsg(error);\n                  }\n                }\n                if (usePantry){\n                  if (status === 'received'){\n                      const newIngredients = ingredients.map(function(o){ //Quick solution\n                        o['strIngredient1'] = o['strIngredient'];\n                        return o;\n                      })\n                    setApiData(newIngredients);\n                  }\n                }\n              }\n              requestIngredients();\n              \n              return () => {\n            isMounted = false;\n        };\n\n    },[usePantry, ingredients, status]);\n\n\n\n\n  function findFilterObject(filterId) { // this is a utility finder function, to find an object with an identifying parameter of the object: filterId\n    return function(filterObj) {\n      return filterObj.strIngredient1 === filterId;\n    };\n  }\n\n  function handleFilterSelection(filterId) { // this manages the user click action to select a filter, and updates state to include filter\n    let foundFilter = apiData.filter(\n      findFilterObject(filterId)\n    );\n    setFilters(filters.concat(foundFilter));\n    removeSearchIngredient(filterId);\n  }\n\n  function removeFilter(filterId) { // this is the opposite of handleFilterSelection, it removes a filter from state / selected filters\n    let filterItems = filters.filter(\n      item => item.strIngredient1 !== filterId\n     \n    );\n    setFilters(filterItems);\n   replaceSearchIngredients(filterId);\n  }\n\n  function removeSearchIngredient(filterId) { // this function removes an ingredient from the search results of ingredients, when it is placed into active filters\n    let filterItems = apiData.filter(\n      item => item.strIngredient1 !== filterId\n    );\n    setApiData(filterItems);\n  }\n\n  function replaceSearchIngredients(filterId) { // this is the opposite of removeSearchIngredient - it replaces an ingredient in search results, when it is removed from filters.\n    let foundFilter = filters.filter(\n      findFilterObject(filterId)\n    );\n    setApiData(apiData.concat(foundFilter));\n  }\n\n  function compareAbc(ingr1, ingr2){ // this is used to sort the ingredients alphabetically. Helps with display sanity when adding/removing filters.\n    let comparison = 0;\n    let ingr1Str = ingr1.strIngredient1.toLowerCase();\n    let ingr2Str = ingr2.strIngredient1.toLowerCase();\n    if(ingr1Str > ingr2Str) comparison=1;\n    else if(ingr2Str > ingr1Str) comparison=-1;\n    return comparison;\n  }\n\n  function clearActiveFilters() { // this wipes all active filters and returns them to the search ingredients list\n    let filtersTemp = filters;\n    setFilters([])\n    setResultsURL(\"\");\n  setApiData(apiData.concat(filtersTemp));\n  }\n\n  function returnToSearch() { // function to change active component to search page 1\n    setDisplay (\"searchPage\");\n  }\n\n  function returnFromRecipe() { // function to change active component to the cocktails which include chosen ingredients\n    setDisplay(\"recipe-results\");\n  }\n\n  function makeResultsURL() { // function to make URL out of chosen filters, which will then get loaded by recipe-results\n    if(API_KEY){ // if API key is included, get real results\n      if(filters.length > 0){ // if there are filters to search with, go ahead and make the URL with them.\n        //console.log(API_KEY);\n        let resultsEARL = `/filter.php?i=`; // base URL format\n        // Append base URL with ingredients (replacing spaces with underscores):\n        filters.map(a => {\n            resultsEARL += a.strIngredient1.replace(\" \", \"_\")+\",\";\n            return true; // it wanted to return a value, so: it returns true. Could be changed to false if feeling moody. Or, maybe a numerical value if feeling smart.\n            // maybe a witty retort would be best. \n        })\n\n        resultsEARL = resultsEARL.substring(0, resultsEARL.length-1); // need to chop off the comma from the end of the string now. Easier than watching for the last filters item and treating it differently.\n        //console.log(\"Results URL is:\" + resultsEARL);\n        setResultsURL(resultsEARL); // update state to carry the URL\n        setDisplay(\"recipe-results\");\n\n      } else { // otherwise, file a complaint to console. \n        // NB: This should be forwarded to the DOM. The user should be informed of their transgression, and given a chance to rectify their mistake.\n        //console.log(\"active filters is empty. Please select some ingredients\");\n      }\n    } else { // if API is not included, use dummy results.\n      //console.log(\"API key not present, using fixed results\");\n      setResultsURL (\"\");\n      setDisplay(\"recipe-results\"); // there is a default JSON file that will be used by recipe-results if resultsURL.length is too short   \n    }\n  }\n\n  function makeInstructionsURL(idDrink) { // this is a simpler URL making function, since it only adds one value to the URL.\n    // The resulting URL will provide the JSON data for the cocktail recipe.\n    //console.log(\"Recipe chosen: \"+idDrink);\n    if(idDrink){ // this attempts to identify a null value for making the URL ( which may break the API call )\n      let recipeEARL = \"/lookup.php?i=\";\n      recipeEARL += idDrink;\n      // console.log(\"Recipe URL to input is: \"+recipeEARL+\" ...\");\n      // console.log(\"State RecipeURL before set is: \\\"\"+recipeURL+\"\\\"\");\n\n      setRecipeURL(recipeEARL);\n      //console.log(\"State RecipeURL is now: \" + recipeURL);\n      setDisplay(\"recipe-viewer\");\n\n    }\n    else{\n      console.log(\"received drink ID is null\"); // please stop trying to break the API call\n    }\n  }\n   // display main App parent component, details here\n    // comments inside the return field are finicky.\n    /*\n      The below is JSX for rendering elements in the browser. Apply CSS to the components as you wish. They are all buttons...\n      It would be possible to use an image as a background for the buttons, and select those images in the CSS based on the element id.\n      This might be made easier with some additional javascript. Could be cool. Or the image could appear on hover... or turn into colour on hover, instead of no colour. stng like that.\n    */ \n    return (\n      <div className=\"searchCocktail\">\n      <hr />\n        {display === \"searchPage\" &&\n          <div className=\"searchPageMain\">\n            <h1>Search Cocktails By Ingredient</h1>\n            <p>Click on an ingredient from the Ingredients list below, to add it to your search filters. Then, click GO to search for cocktails which contain those ingredients!</p>\n            <p>Use the search bar to narrow down the list.</p>\n            <div>\n              <h3>Selected Ingredients</h3><br />\n              {filters.length === 0 && <p className=\"grey\">(Your chosen ingredients will appear here)</p>}\n\n              {filters.sort(compareAbc).map( i => <button key={`${i.strIngredient1}filt`} style={ingStyle}\n                onClick={() => removeFilter(i.strIngredient1)}>{imgPicker(i.strIngredient1)}<h4 style={btntxt}>{i.strIngredient1}</h4></button>)}\n                \n                {/* <button\n                  onClick={() => removeFilter(a.strIngredient1)}\n                  key={a.strIngredient1 + \"filt\"}\n                  className=\"orange\"\n                >\n                  <b>{a.strIngredient1}</b>\n                </button>\n              ))} */}\n\n              <p>\n                <br />When you're ready, click GO to search for cocktails using these ingredients. To remove active filters, click on them to remove them one-by-one, or click CLEAR to remove them all.\n              </p>\n              <div className=\"ButtonsUseFilters\">\n              <button className=\"pantryOption\" style={pantryButtonStyle(usePantry)}\n                onClick={() => { if(props.isAuthed){setUsePantry(!usePantry); clearActiveFilters();}}}\n              >PANTRY\n              \n              </button>\n              <button\n                onClick={() => makeResultsURL()}\n                className=\"go\"\n              >\n                GO\n              </button>\n              <button\n                onClick={() => clearActiveFilters()}\n                className=\"goclear\" \n              >\n                Clear\n              </button>\n              </div>\n            </div>\n            <h3>Ingredients List</h3>\n            <SearchForm\n              searchTerm={searchTerm}\n              onChange={onSearchFormChange}\n            />\n            { !usePantry && <SearchResults style={{minHeight: '200px'}}  // Quick Merge\n              searchTerm={searchTerm}\n              //globalArray={globalArray}\n              buttonHandler={handleFilterSelection}\n              cocktailIngredList={apiData}\n              compareAbc={compareAbc}\n            />}\n            { usePantry && status === 'received' && props.isAuthed && <SearchResults // Quick Merge\n              searchTerm={searchTerm}\n              //globalArray={globalArray}\n              buttonHandler={handleFilterSelection}\n              cocktailIngredList={apiData}\n              compareAbc={compareAbc}\n            />}\n            { usePantry && !props.isAuthed && \n              <>{(setUsePantry(false), clearActiveFilters())}</>\n            }\n           \n          </div>\n        }\n        {display === \"recipe-results\" &&\n          <RecipeResults\n            isAuthed={props.isAuthed}\n            userPantry={ingredients}\n            returnToSearch={returnToSearch}\n            makeInstructionsURL = {makeInstructionsURL}\n            filters = {filters}\n            resultsURL = {resultsURL}\n          />\n        }\n        {display === \"recipe-viewer\" &&\n          <RecipeViewer\n            isAuthed={props.isAuthed}\n            userPantry={ingredients}\n            returnFromRecipe={returnFromRecipe}\n            recipeURL = {recipeURL}\n          />\n        }\n      </div>\n    );\n  \n\n\n}\n    \nconst ingStyle = {\n  backgroundColor: 'transparent',\n  background: 'transparent',\n  margin: \"0px\",\n  borderRadius: '0%',\n  border: 'none',\n  fontSize: '12px',\n  padding: '8px',\n  outline:'none'\n}\n\n\nconst btntxt = {\n  height: \"10px\",\n  margin: \"10px, 0\",\n  fontWeight: 'normal'\n}\n\nconst pantryButtonStyle = (usePantry) => {\n\n  if (usePantry){ return{ backgroundColor: '#FFD700'}\n    }else{ return{ backgroundColor: '#87979A'} }\n}","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\Pantry.jsx",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\SimpleNav.jsx",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\LoginForm.jsx",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\services\\httpService.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\search-results.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\services\\apiService.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\search-form.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\recipe-results.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\recipe-viewer.js",["107","108","109"],"import React, { Component } from \"react\";\r\nimport apiFetch from '../../services/apiService';\r\nimport {loadRecipes, ingredientButtons, backButton, ingCheckButtons} from '../../util/imgPicker';\r\nimport TungstenLogo_s from '../../img/TungstenLogo_s.png';\r\n\r\n\r\n\r\nclass RecipeViewer extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      isFetched: false,\r\n      loaded:false,\r\n      recipeInstructionsApiData: {\r\n        drinks: [{\r\n            strDrink: \"\",\r\n            strGlass: \"\",\r\n            strIngredient1: \"\",\r\n            strIngredient2: \"\",\r\n            strIngredient3: \"\",\r\n            strIngredient4: \"\",\r\n            strIngredient5: \"\",\r\n            strIngredient6: \"\",\r\n            strIngredient7: \"\",\r\n            strIngredient8: \"\",\r\n            strInstructions: \"\",\r\n          }]\r\n      },\r\n      errorMsg:\"\",\r\n      status: \"idle\",\r\n    };\r\n    this.image = React.createRef();\r\n  }\r\n  async componentDidMount(){\r\n    try {\r\n      this.setState({status: \"requesting\"});\r\n\r\n      const API_URL = this.props.recipeURL;\r\n      const jsonResult = await apiFetch(API_URL);\r\n      \r\n\r\n      this.setState({status: \"received\"});\r\n      //console.log(this.state.status);\r\n      // console.log(\"jsonResult received:\");\r\n      // console.log(jsonResult);\r\n      this.setState({ recipeInstructionsApiData: jsonResult });\r\n      this.setState({ isFetched: true });\r\n      // console.log(\"Mount attempt successful. Data Loaded:\");\r\n      // console.log(this.state.recipeInstructionsApiData);\r\n    } catch (error) {\r\n      this.setState({ isFetched: false });\r\n      //console.log(\"mount attempt failed\");\r\n      this.setState({ errorMsg: error });\r\n      //console.log(this.state.errorMsg);\r\n    }\r\n  }\r\n\r\n  handleImageLoaded = () => { // changes img source from placeholder once image has loaded\r\n    if(!this.state.loaded){\r\n      this.setState({ loaded: true});\r\n    }\r\n  }\r\n \r\n\r\n  render(){\r\n\r\n    //console.log(\"API fetched yet? = \"+this.state.isFetched);\r\n    const drink = this.state.recipeInstructionsApiData.drinks[0];\r\n    const { isAuthed, userPantry, returnFromRecipe } = this.props;\r\n    const { status, loaded } = this.state;\r\n\r\n\r\n    const ingredientNames = []; // getting ingredient values from drink props for rendering images // small amount of data to process // \r\n    if (status === 'received'){\r\n        for (const prop in drink){\r\n          if (drink && prop.match(/^strIngredient/) && drink[prop] !== ''  && drink[prop] !== null && !ingredientNames.some(i => i === drink[prop])){ //checking prop is stringredient\r\n            const measurement = drink[`strMeasure${prop.slice(-1)}`]; //getting corresponding measurement using number values at end of prop name\r\n            measurement != null ? ingredientNames.push({name : drink[prop], measure : measurement}) : ingredientNames.push({name : drink[prop]});  // pushing info as object  \r\n          }\r\n        }\r\n        //console.log(ingredientNames);\r\n    }\r\n    \r\n    return(\r\n      <div className=\"RecipeViewer\">\r\n      {backButton(returnFromRecipe)}    \r\n      {status === 'idle' || status === 'requesting'  && <div></div>}   \r\n      {status === 'received' && <React.Fragment> {/* display details once api has been sucessfully loaded */ } \r\n          <div className=\"recipeImage\" >\r\n            <h1>Recipe: {drink.strDrink}</h1><br />\r\n            <img src= {loaded? drink.strDrinkThumb : TungstenLogo_s} alt=\"tungsten\" style={imgStyle} ref={this.image} onLoad={this.handleImageLoaded}/>\r\n          </div>\r\n            <h3>Ingredients:</h3><br />\r\n            {ingredientNames.sort(this.compareAbc).map((i,index) => {// Checking ingredients against ingredients in pantry\r\n                if (isAuthed && userPantry && userPantry.some(e => e.strIngredient.toLowerCase() === i.name.toLowerCase())) // cocktail api has some issues with consistency in naming \r\n                return ingCheckButtons(i.name,i.name+index,function(){},i.measure); //displays pantry icon beside ing that user has\r\n                return ingredientButtons(i.name,i.name+index,function(){},i.measure);//displays reg ing\r\n            })}\r\n            </React.Fragment>\r\n            }\r\n\r\n             { status === 'received' && drink.strGlass !== null &&\r\n              <div>\r\n                <h3>Type of glass:</h3><p>\r\n                    { drink.strGlass }\r\n                    { !drink.strGlass && 'any' }\r\n                    </p>\r\n            <h3>Instructions:</h3>\r\n                { styleInstruction(drink.strInstructions) }\r\n              </div>\r\n          }   \r\n      </div>\r\n    );\r\n    \r\n  }\r\n}\r\n\r\nexport default RecipeViewer;\r\n\r\n\r\nfunction styleInstruction(instructions){ // mapping instructions to single lines. //cause errors react key errors etc atm <p> elements stacked\r\n\r\n  const lines = instructions.split('.');\r\n  return(<p style={{lineHeight: '150%', whitSpace: 'pre-wrap'}}>{lines.map((i,index )=> (\r\n    <p key={index}>{i}</p>\r\n ))}</p>\r\n    \r\n  )\r\n}\r\n\r\n\r\nconst imgStyle = {\r\n  display:'block',\r\n  marginLeft: 'auto',\r\n  marginRight: 'auto',\r\n  // width: '16%',\r\n  borderRadius: '30px'\r\n}\r\n\r\n\r\n\r\n\r\n","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\util\\imgPicker.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\hooks\\useGetPantry.jsx",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\hooks\\useFormInput.jsx",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\hooks\\useLoginStatus.jsx",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\AddIngredient.jsx",["110"],"import React from \"react\";\nimport Modal from \"react-modal\";\nimport { useState } from \"react\";\nimport useFormInput from \"../hooks/useFormInput\";\nimport useGetIngredient from \"../hooks/useGetIngredient\";\nimport imgPicker, {\n  loadIng,\n  addIng,\n  ingError,\n  noIngFound\n} from \"../util/imgPicker\";\n\nexport default function AddIngredient(props) {\n  Modal.setAppElement(document.getElementById(\"root\"));\n\n  const [isOpen, setIsOpen] = useState(false); // modal state\n  const [query, setQuery] = useState(\"***\"); // text for search\n  const input = useFormInput(\"\"); // input form logic\n  const { status, ingredient: ing } = useGetIngredient(query); // hook for returning searching cocktail db\n\n  const open = () => {\n    setIsOpen(true);\n  };\n\n  function afterOpenModal() {\n    // references are now sync'd and can be accessed. model info => https://www.npmjs.com/package/react-modal\n    // subtitle.style.color = '#f00';\n  }\n\n  const close = () => {\n    setIsOpen(false);\n  };\n\n  const submit = (input) => {\n    setQuery(input.value); // state will trigger useGetIngredient to retrive ingredient from cocktail db\n  };\n\n  const displayResult = () => {\n    try {\n      switch (status) { \n        case \"init\":\n          return <h2> </h2>; //initial state -> nothing to show\n\n        case \"requesting\":\n          return loadIng(); // imgPicker\n\n        case \"received\":\n          if (ing !== null)\n            return (\n              <div>\n                <h1> </h1>\n                <button\n                  key={ing.idIngredient}\n                  style={ingstyle}\n                  onClick={() => props.update(ing)}\n                >\n                  <span style={btntxt}>{ing.strIngredient}</span>\n                  {imgPicker(ing.strIngredient, ing.strType)}\n                  {addIng()}\n                </button>\n              </div>\n            );\n          else return noIngFound();\n\n        case \"error\":\n          throw new Error();\n\n        default:\n          return <h2> </h2>;\n      }\n    } catch (err) {\n      //console.log(err);\n      return ingError();\n    }\n  };\n\n  return (\n    <div className=\"width\">\n      <button onClick={open} class=\"pantryPlus\">\n        {\" \"}\n        &nbsp;+&nbsp;{\" \"}\n      </button>{\" \"}\n      {/* button for adding ingredient  --> currently put it in mobile style*/}\n      <Modal\n        isOpen={isOpen}\n        onAfterOpen={afterOpenModal}\n        onRequestClose={close}\n        class=\"modalStyle\"\n      > \n      <div>\n        <button onClick={close} style={{ margin: \"0px 0px 0px 200px\" }}>\n          close\n        </button>{\" \"}\n        {/* Modal content */}\n        <h2>Add Ingredient</h2>\n        <input {...input} id=\"InputText\" style={{ padding: \"4px\" }} />\n        <button onClick={() => submit(input)} style={{ fontSize: \"16px\" }}>\n          search\n        </button>\n        <div style={{ textAlign: \"center\" }}>{displayResult()}</div>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n\nconst customStyles = {\n  //modal style\n\n  // overlay: {\n  //   position: \"fixed\",\n  //   top: 100,\n  //   left: 0,\n  //   right: 0,\n  //   bottom: 0,\n  //   backgroundColor: \"rgba(255, 255, 255, 0.75)\"\n  // },\n\n  // content: {\n  //   top: \"40%\",\n  //   left: \"20%\",\n  //   right: \"auto\",\n  //   bottom: \"auto\",\n  //   marginRight: \"-50%\",\n  //   transform: \"translate(-50%, -50%)\"\n  // }\n};\n\nconst ingstyle = {\n  backgroundColor: \"transparent\",\n  margin: \"5px\",\n  borderRadius: \"10%\",\n  border: \"none\"\n};\n\nconst btntxt = {\n  height: \"100px\",\n  margin: \"5px\",\n  fontSize: \"16px\"\n};\n","C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\mergeComp\\staticJSONsearchResults.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\hooks\\useGetIngredient.js",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\components\\Fav.jsx",[],"C:\\Users\\ramon\\Google Drive\\GitHub\\tungsten-app\\src\\hooks\\useGetFavs.jsx",[],{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","severity":1,"message":"116","line":36,"column":13,"nodeType":"117","messageId":"118","endLine":36,"endColumn":16},{"ruleId":"115","severity":1,"message":"119","line":39,"column":13,"nodeType":"117","messageId":"118","endLine":39,"endColumn":22},{"ruleId":"115","severity":1,"message":"120","line":40,"column":13,"nodeType":"117","messageId":"118","endLine":40,"endColumn":21},{"ruleId":"115","severity":1,"message":"121","line":3,"column":9,"nodeType":"117","messageId":"118","endLine":3,"endColumn":20},{"ruleId":"122","severity":1,"message":"123","line":87,"column":26,"nodeType":"124","messageId":"125","endLine":87,"endColumn":28},{"ruleId":"122","severity":1,"message":"123","line":87,"column":54,"nodeType":"124","messageId":"125","endLine":87,"endColumn":56},{"ruleId":"115","severity":1,"message":"126","line":107,"column":7,"nodeType":"117","messageId":"118","endLine":107,"endColumn":19},"no-native-reassign",["127"],"no-negated-in-lhs",["128"],"no-unused-vars","'len' is assigned a value but never used.","Identifier","unusedVar","'isFetched' is assigned a value but never used.","'errorMsg' is assigned a value but never used.","'loadRecipes' is defined but never used.","no-mixed-operators","Unexpected mix of '||' and '&&'.","LogicalExpression","unexpectedMixedOperator","'customStyles' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]