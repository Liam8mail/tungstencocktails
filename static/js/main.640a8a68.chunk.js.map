{"version":3,"sources":["services/httpService.js","services/authService.js","services/userService.js","services/apiService.js","hooks/useGetPantry.jsx","hooks/useFormInput.jsx","hooks/useGetIngredient.js","img/sAdd.png","img/TungstenLogo-Final-01.png","img/TungstenText-01.png","img/TungstenLogo_s.png","img/search-white.svg","img/user-white.svg","img/question-white.svg","img/save-white.svg","img/heart-white.svg","util/imgPicker.js","components/AddIngredient.jsx","components/Pantry.jsx","hooks/useGetFavs.jsx","components/mergeComp/recipe-viewer.js","hooks/useGetDrinkRecipe.js","components/DropDown.jsx","components/Fav.jsx","components/mergeComp/search-results.js","components/mergeComp/search-form.js","components/mergeComp/recipe-results.js","components/mergeComp/SearchCocktail.js","components/LoginForm.jsx","hooks/useLoginStatus.jsx","components/SimpleNav.jsx","App.js","reportWebVitals.js","index.js"],"names":["getCancelToken","axios","CancelToken","source","defaults","headers","common","getToken","interceptors","request","use","req","error","response","status","alert","Promise","reject","get","post","put","delete","apiEndpoint","apiUrl","login","details","a","http","data","localStorage","setItem","getUserObject","decode","ex","getItem","console","log","apiUserEndpoint","createAccount","user","getUser","updateUserFavs","favs","_id","apiFetch","url","fetch","method","cache","redirect","referrerPolicy","body","JSON","stringify","res","json","useGetPantry","useState","setStatus","ingredients","setIngredients","useEffect","isMounted","currentUser","token","all","pantry","map","id","getIngredient","catch","ingredientsFound","filter","i","checkItem","requestUserIngredients","cancel","undefined","useFormInput","props","value","setValue","onChange","input","currentTarget","Error","imgPicker","ing","imgsize","src","alt","width","height","onError","handleOnError","ingredientButtons","index","buttonHandler","measure","className","style","ingStyle","onClick","ingInfoStyle","ingCheckButtons","pantryIconUrl","ingCheckButtonStyle","logoImg","TungstenLogo","logoText","TungstenText","loadUrl","loadRecipes","loadStyle","placeholder","TungstenLogo_s","backButtonUrl","backButton","backButtonText","likeIconUrl","heart","searchIconUrl","searchIco","pant","display","marginLeft","marginRight","navIconActiveStyle","background","margin","fill","padding","navIconUnactiveStyle","opacity","backgroundColor","outline","marginTop","position","AddIngredient","Modal","setAppElement","document","getElementById","isOpen","setIsOpen","query","setQuery","ingredient","setIngredient","requestIngredients","useGetIngredient","onAfterOpen","onRequestClose","overlayClassName","textAlign","type","autoComplete","submit","marginBottom","update","strIngredient","idIngredient","err","displayResult","Pantry","setPantry","selected","setSelected","addIngredients","some","newPantry","push","updateDB","pop","removeIngredients","e","cachedIng","length","forEach","cachedSelected","isAuthed","renderLoading","renderPantry","updatePantry","choice","Fragment","buttonRemoveStyle","sort","b","sortIng","buttonStyle","onMouseOver","button","includes","buttonHovered","onMouseLeave","border","buttonUnhovered","findIndex","newSelection","splice","onSelect","btntxt","emptyPantryStyle","imgStyle","ingstyleSel","top","backgroundSize","borderWidth","cursor","fontWeight","borderRadius","fontSize","useGetFavs","setFavs","cocktails","requestUserFavs","RecipeViewer","loaded","setLoaded","image","React","createRef","userPantry","returnFromRecipe","API_URL","drink","setDrink","jsonResult","drinks","cocktailRecipe","useGetDrinkRecipe","recipeURL","fav","setFav","favsStatus","ScrollToTopOnMount","window","scrollTo","innerHeight","behavior","idDrink","toggleFav","strDrink","strDrinkThumb","strAlcoholic","strCategory","cocktail","updateFavProp","updateDatabase","updated","newFavs","handleLike","ingredientNames","prop","match","measurement","slice","name","favIconStyle","unFavIconStyle","ref","onLoad","color","strGlass","toLowerCase","float","styleInstruction","strInstructions","instructions","lines","split","lineHeight","whitSpace","maxWidth","DropDown","isListOpen","setIsListOpen","headerTitle","setHeaderTitle","list","toggleItem","title","single","multi","handleClose","useCallback","setTimeout","addEventListener","removeEventListener","count","item","prevIsListOpen","role","stopPropagation","Fav","setDisplay","setRecipeURL","setCocktails","isNonAlc","setIsNonAlc","categorys","setCategorys","pantryStatus","location","pathname","categoryList","temp","history","go","path","renderFavs","recipeEARL","el","render","paddingTop","handleImageLoaded","makeInstructionsURL","filtList","filtAlc","handleAlcFilt","DropDownList","filtCat","defaultChecked","favCheckButtonStyle","left","SearchResults","searchTerm","ingredObj","strIngredient1","this","searchTermFromProps","cocktailIngredList","compareAbc","ingredientFilterFunction","numberResults","minHeight","Component","SearchForm","onChangeFromProps","RecipeResults","state","setState","errorMsg","recipeListApiData","img","current","testItem","resultsURL","complete","returnToSearch","filters","recipeList","SearchCocktail","setSearchTerm","setLen","setFilters","apiData","setApiData","isFetched","setIsFetched","setErrorMsg","setResultsURL","usePantry","setUsePantry","findFilterObject","filterId","filterObj","handleFilterSelection","foundFilter","concat","filterItems","removeSearchIngredient","removeFilter","replaceSearchIngredients","ingr1","ingr2","comparison","ingr1Str","ingr2Str","clearActiveFilters","filtersTemp","newIngredients","o","pantryButtonStyle","resultsEARL","replace","substring","makeResultsURL","target","numChars","Loginform","email","password","setError","signupPage","loginPage","loggingImages","aria-describedby","to","useLoginStatus","setName","returnUser","NavBar","setLoggingout","removeItem","setOnlineStatus","LoginStatus","logged","onLineStatus","children","loginWhite","questionIcon","App","basename","process","key","Date","now","pingSer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.640a8a68.chunk.js","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\r\nimport axios from \"axios\";\r\nimport { getToken } from './authService';\r\n\r\n// wrapper for axios. In future another service can easy easy replace this. \r\n\r\naxios.defaults.headers.common['x-auth-token'] = getToken(); // header required for storing token\r\n\r\naxios.interceptors.request.use(req => { // intercept req and add key\r\n\r\n  req.headers.common['x-auth-token'] = getToken();\r\n  return req;\r\n\r\n}, error =>{\r\n  const expectedError = (error.response && error.response.status >=400 && error.response.status <500);\r\n  if(!expectedError){\r\n    alert('An unexpected error occured'); //go to friendly page\r\n  }\r\n  return Promise.reject(error); \r\n});\r\n\r\n\r\naxios.interceptors.response.use(null, error =>{\r\n  const expectedError = (error.response && error.response.status >=400 && error.response.status <500);\r\n\r\n  if(!expectedError){\r\n    alert('An unexpected error occured'); //go to friendly page\r\n  }\r\n  return Promise.reject(error);\r\n});\r\n\r\nexport function getCancelToken(){\r\n  return axios.CancelToken.source(); // for async effect clean up calls\r\n\r\n}\r\n\r\nexport default { // exporting methods\r\n\r\n  get: axios.get,\r\n  post: axios.post,\r\n  put: axios.put,\r\n  delete: axios.delete\r\n}","import http from \"./httpService\";\r\nimport {apiUrl} from \"../config.json\";\r\nimport decode from 'jwt-decode';\r\n\r\nconst apiEndpoint = apiUrl + \"/api/auth\"; //end point for making auth protected req\r\n\r\nexport async function login(details) {\r\n   \r\n    const { data } = await http.post(`${apiEndpoint}/login`, details); //data  will be jwt key returned from server with encrypted secret;\r\n    localStorage.setItem( \"token\" , data); // we store this in the browser local storage cache\r\n    return data;\r\n    \r\n  \r\n}\r\n\r\nexport function logout() {\r\n    localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport function getUserObject() {\r\n    try{\r\n        return decode(getToken()); //return user details - atm only name and email is stored in the key\r\n    }\r\n    catch(ex){\r\n        return; // todo\r\n    }\r\n}\r\n\r\nexport function getToken() {\r\n    try{\r\n        return localStorage.getItem(\"token\");\r\n    }\r\n    catch(ex){\r\n\r\n        console.log(ex); // This should never happen\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import http from './httpService';\r\nimport {apiUrl} from '../config.json';\r\n\r\n// handles users api endpoint req //post /put endpoints are auth protected\r\n\r\nconst apiUserEndpoint = `${apiUrl}/api/users/`;\r\n\r\n\r\nexport function createAccount(user) { // req create account\r\n\r\n    return http.post(`${apiUserEndpoint}signup`,user);\r\n};\r\n\r\nexport function getUser(user) { // req user\r\n\r\n    return http.get(`${apiUserEndpoint}me`,user)\r\n};\r\n\r\nexport function remove(user) { // todo\r\n\r\n    return http.delete(`${apiUserEndpoint}${user}`);\r\n};\r\n\r\nexport function updateUserPantry(user,pantry) { // pretty obvious what this does :)\r\n    \r\n    return http.put(`${apiUserEndpoint}pantry/:${user._id}`, {'pantry': pantry});\r\n};\r\n\r\nexport function updateUserFavs(user,favs) { \r\n    \r\n    return http.put(`${apiUserEndpoint}favs/:${user._id}`, {'favs': favs});\r\n};\r\n\r\nexport function ping(){ // sends call to the server to load it if free hosting service unloaded due to inactivity. called upon app init. \r\n    return http.get(apiUrl);\r\n}\r\n","import { apiUrl } from \"../config.json\"; \r\n\r\n// Wrapper for Fetch to redirect requests to the server -> api key is stored in an environment varible on the server to avoid exposing it to the client side\r\n\r\nconst apiEndpoint = `${apiUrl}/api/cocktail`;\r\n\r\nexport default async function apiFetch(url) {\r\n  try {\r\n    const res = await fetch(apiEndpoint, {\r\n      method: \"POST\",\r\n      cache: \"no-cache\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      redirect: \"follow\",\r\n      referrerPolicy: \"no-referrer\",\r\n      body: JSON.stringify({ url: url })\r\n    });\r\n    return await res.json();\r\n  } catch (ex) {\r\n    return ex; // will return the error message from cocktail tail if any. \r\n  }\r\n}\r\n\r\n\r\n","import { useEffect, useState } from 'react';\r\nimport { getUserObject } from '../services/authService';\r\nimport { getUser } from '../services/userService';\r\nimport { getCancelToken } from '../services/httpService';\r\nimport  apiFetch  from '../services/apiService';\r\n\r\n// responsible for getting the pantry from users in database.\r\n\r\nexport default function useGetPantry(){\r\n\r\n    const [status, setStatus] = useState('init');\r\n    const [ingredients, setIngredients] = useState();\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        const source = getCancelToken(); // we need to cancel the request if user the component unmounts. \r\n        \r\n            async function requestUserIngredients(){\r\n                try {\r\n                    \r\n                    setStatus('requesting');\r\n                    let currentUser = getUserObject();\r\n                    if(!isMounted || !currentUser || typeof currentUser === 'undefined') return setStatus('invalid token');\r\n\r\n                    currentUser = await getUser(currentUser, { cancelToken: source.token}); // Authenticating User + refreshing Pantry\r\n                   \r\n                    const ingredients = await Promise.all(\r\n                        currentUser.data.pantry.map(id => getIngredient(id)) // This will change in future to get a list instead of individual calls // at the moment only way to retrive fll ingredient details for sorting which also needs to implemented\r\n                    ).catch(\r\n\r\n                    );\r\n                    if(isMounted){\r\n                        const ingredientsFound = ingredients.filter(i => checkItem(i));\r\n                        setIngredients(ingredientsFound);\r\n                        setStatus('received');\r\n                    }\r\n                }\r\n                catch(ex){\r\n                    return ex;\r\n                }\r\n            }\r\n            \r\n            requestUserIngredients();\r\n        \r\n        return () => {\r\n            isMounted = false;\r\n            source.cancel(\"canceled\");\r\n        };\r\n\r\n    },[]);\r\n\r\n    return {\r\n        status,\r\n        ingredients\r\n    }\r\n}\r\n\r\nasync function getIngredient(id){ // req cocktail db\r\n\r\n    try{\r\n        //console.log(id);\r\n        const res = await apiFetch(`/lookup.php?iid=${id}`);\r\n        return res.ingredients[0];\r\n\r\n    }\r\n    catch(err){\r\n        //console.log(err);\r\n    }\r\n}\r\n\r\nfunction checkItem(i) {\r\n    return i !== undefined; //checking items just in case there are blanks\r\n}\r\n\r\n\r\n","import {useState} from 'react';\r\n// simple hook for hadnling form onchange and storing the input values. \r\n\r\nfunction useFormInput(props) {   // https://reactjs.org/docs/hooks-intro.html --> At React Conf 2018\r\n    \r\n    const [value, setValue] = useState(props);\r\n    \r\n    function handleChange({currentTarget: input}) {\r\n        setValue(input.value);\r\n    };\r\n    \r\n    return {\r\n        value,\r\n        onChange: handleChange\r\n    };\r\n}\r\n\r\nexport default useFormInput;\r\n","import { useEffect, useState } from 'react';\r\n//import { getCancelToken } from '../services/httpService';\r\nimport  apiFetch  from '../services/apiService';\r\n\r\n// Responsible for retrieving ingredient from cocktail db via name --> Note Need to implement cancelToken\r\n\r\n\r\nexport default function useGetIngredient(input){\r\n\r\n    const [status, setStatus] = useState('init');\r\n    const [ingredient, setIngredient] = useState();\r\n    \r\n    useEffect(() => {\r\n        if (input ==='***') return setStatus('init'); //Cocktail returns gin by default blank search.\r\n\r\n        let isMounted = true;\r\n        //const source = getCancelToken();\r\n        \r\n            async function requestIngredients(){\r\n                try {\r\n                    setStatus('requesting');\r\n                    let ingredient = await getIngredient(input);\r\n                  \r\n                    if(isMounted){ // will use refs in future\r\n                        console.log(ingredient);  \r\n                        setIngredient(ingredient);                      \r\n                        setStatus('received');\r\n                    }\r\n                }\r\n                catch(err){\r\n                    setStatus('error')\r\n                }\r\n            }\r\n            requestIngredients();\r\n\r\n        return () => {\r\n            isMounted = false;\r\n            //source.cancel(\"canceled\");\r\n        };\r\n\r\n    },[input]);// dependacy on input; will trigger effect \r\n\r\n    return {\r\n        status,\r\n        ingredient\r\n    }\r\n}\r\n\r\nasync function getIngredient(input){\r\n\r\n    try{\r\n        //throw new Error('Oops'); \r\n        const res = await apiFetch(`/search.php?i=${input}`); // calls to server to process using apiFetch\r\n        //console.log(res)\r\n        return res.ingredients !== null ? res.ingredients[0] : null; //return ingredient data from Json array retrieved from cocktaildatabase\r\n     \r\n    }\r\n    catch(err){\r\n       throw new Error(err); // Note store error message in log \r\n    }\r\n}\r\n\r\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/TungstenLogo-Final-01.bcbbf5fb.png\";","export default __webpack_public_path__ + \"static/media/TungstenText-01.80597e9e.png\";","export default __webpack_public_path__ + \"static/media/TungstenLogo_s.db898371.png\";","export default __webpack_public_path__ + \"static/media/search-white.776b1209.svg\";","export default __webpack_public_path__ + \"static/media/user-white.a171912b.svg\";","export default __webpack_public_path__ + \"static/media/question-white.882cf8ba.svg\";","export default __webpack_public_path__ + \"static/media/save-white.84e71e7f.svg\";","export default __webpack_public_path__ + \"static/media/heart-white.5ea40eec.svg\";","import sAdd from '../img/sAdd.png';\r\nimport TungstenLogo from '../img/TungstenLogo-Final-01.png';\r\nimport TungstenText from '../img/TungstenText-01.png';\r\nimport TungstenLogo_s from '../img/TungstenLogo_s.png';\r\nimport searchIco from '../img/search-white.svg';\r\nimport loginWhite from '../img/user-white.svg';\r\nimport questionIcon from '../img/question-white.svg';\r\nimport pant from '../img/save-white.svg';\r\nimport heart from '../img/heart-white.svg';\r\n\r\n\r\n// Place to manage urls for img elements etc. \r\n\r\nexport default function imgPicker(ing,imgsize){ \r\n    if (ing === 'Midori') //doesn't exist in api database\r\n    ing = 'Midori Melon Liqueur';\r\n\r\n    const url = `https://www.thecocktaildb.com/images/ingredients/${ing}-Small.png`; //  (100x100 pixels)\r\n    return  <img src={url} alt=\"tungsten\" width={imgsize? imgsize:\"80\"} height={imgsize? imgsize:\"80\"} onError={handleOnError()} key={ing}></img>\r\n\r\n}\r\n\r\n\r\nexport function ingImageUrl(ing){ \r\n    return `url(https://www.thecocktaildb.com/images/ingredients/${ing}-Small.png)`; //  (100x100 pixels)\r\n\r\n}\r\n\r\n\r\nexport function ingredientButtons(i,index, buttonHandler,measure,imgsize){ return <button key={index} className=\"ingredientButtons\" style={ingStyle}\r\n          onClick={() => buttonHandler(i)}>{imgPicker(i,imgsize)}<br /><div style={{ingInfoStyle}}>{i}</div><br />{measure && <div style={{ingInfoStyle}}>{\" Measure: \"+measure}</div>}</button>\r\n}\r\n\r\nexport function ingCheckButtons(i,index, buttonHandler,measure,imgsize){ return <button className=\"ingredientButtons\" key={index} style={ingStyle}\r\n          onClick={() => buttonHandler(i)}>{imgPicker(i,imgsize)}<img src={pantryIconUrl} alt=\"tungsten\" style={ingCheckButtonStyle} key={`img${index}`}></img>\r\n          <br /><div style={{ingInfoStyle}}>{i}</div><br />{measure && <div style={{ingInfoStyle}}>{\" Measure: \"+measure}</div>}</button>\r\n}\r\n\r\nexport const logo = () => { return (<div style={{textAlign: 'center', marginTop: '100px'}}><img src={TungstenLogo} alt=\"tungsten\" style={logoStyle}></img></div>)}\r\n\r\n\r\nexport const logoImg = TungstenLogo\r\nexport const logoText = TungstenText;\r\n\r\n// Pantry Component\r\nexport const loadPantryUrl = \"https://media.giphy.com/media/fxk77fLi2ZPQU6kHKx/giphy.gif\"; // loading gif displayed when loading pantry ingredients\r\n\r\n\r\n// Add Ingredient Component\r\n\r\nexport const loadUrl = \"https://media.giphy.com/media/fxk77fLi2ZPQU6kHKx/giphy.gif\" // loading gif displayed when searching ingredient in Pantry\r\n\r\nexport const loadIng = () => { return( <img src={loadUrl} alt=\"tungsten\" style={imgStyle}  width=\"100\" height=\"100\"></img>)}\r\n\r\nexport const loadGen = () => { return( <img src={loadUrl} alt=\"tungsten\" style={loadStyle} ></img>)}\r\n\r\nexport const addIng = () => { return <img style={sAddButton} src={sAdd} alt=\"tungsten\" onError={handleOnError()}></img> } //Small add icon for returned ingredient in search in Pantry Note: change to Image Url\r\n\r\n// loading display for the intial recipes\r\nexport const loadRecipes = () => { return <img src=\"https://media.giphy.com/media/fxk77fLi2ZPQU6kHKx/giphy.gif\" alt=\"tungsten\" style={loadStyle} width=\"10%\"></img> }\r\n\r\nexport const noIngFound = () => { return <h2>Not Found :(</h2>} //Use Images?\r\n\r\nexport const ingError = () => { return <h2>Oops :(</h2>} //Use Images?\r\n\r\nexport const placeholder = TungstenLogo_s;\r\n// Image error handle\r\n\r\nconst handleOnError = () => {\r\n\r\n    //handle error --> \r\n}\r\n\r\n\r\n// Log in form \r\n\r\nexport const loggingWait = () => { return( <img src={loadUrl} alt=\"tungsten\" style={imgStyle}></img>)} // displayed when submitting log in request // replaces form display\r\n\r\n// menu/helper urls\r\n\r\nexport const backButtonUrl = \"https://www.pngjoy.com/pngl/266/5094894_hamburger-menu-icon-white-back-icon-png-png.png\";\r\nexport const backButton = (buttonHandler, backButtonText) => { return ( <button className=\"backButtonSty\" onClick={() => buttonHandler()}><img src={backButtonUrl} alt=\"tungsten\"/>{backButtonText}</button> )}\r\n\r\n//const likeIconUrl = \"https://icon-library.com/images/heart-icon-free/heart-icon-free-4.jpg\";\r\nexport const likeIconUrl = heart;\r\nexport const likeNav = () => { return ( <img src={likeIconUrl} alt=\"tungsten\" style={navIconActiveStyle} /> )}\r\n\r\nconst searchIconUrl = searchIco;\r\nexport const searchNav = () => { return ( <img src={searchIconUrl} alt=\"search icon\" style={navIconActiveStyle} />)}\r\n\r\nexport const loginIcon = () => { return ( <img src={loginWhite} alt =\"login icon\" style={navIconActiveStyle} />)} ;\r\n\r\nexport const qMark = () => { return ( <img src={questionIcon} alt = \"about icon\" style={navIconActiveStyle} /> )};\r\n\r\n\r\n//export const pantryIconUrl = \"https://icon-library.com/images/chef-icon-png/chef-icon-png-4.jpg\";\r\nexport const pantryIconUrl = pant;\r\nexport const pantryNav = (status) => { return ( <img src={pantryIconUrl} alt=\"tungsten\" style={status? navIconActiveStyle : navIconUnactiveStyle }></img> )};\r\n\r\n//Logo\r\n\r\nexport const appLogo = () => (<div className=\"logoDivTop\">\r\n<img src={logoImg} alt=\"tungsten logo\" />\r\n<img src={logoText} alt=\"tungsten\" className=\"logoText\"/>\r\n</div>)\r\n\r\n\r\nconst imgStyle = {\r\n    display:'block',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    width: '50%',\r\n}\r\n\r\n\r\nconst loadStyle = {\r\n    display:'block',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    \r\n}\r\n\r\n\r\nconst sAddButton = {\r\n    padding: '0 0 32px 0',\r\n    width: '16px'\r\n}\r\n\r\nconst navIconActiveStyle = {\r\n    background: 'transparent',\r\n    width: '20px',\r\n    height:'20px',\r\n    margin: '0 0 0 0px',\r\n    fill: '#FFF',\r\n    padding:'10px'\r\n}\r\n\r\nconst navIconUnactiveStyle = {\r\n    background: 'transparent',\r\n    width: '25px',\r\n    margin: '0 0 0 20px',\r\n    opacity: '0.2',\r\n}\r\n\r\n\r\nconst ingStyle = {\r\n    backgroundColor: 'transparent',\r\n    background: 'transparent',\r\n    outline:'none',\r\n}\r\n\r\nconst ingInfoStyle = {\r\n    display:'block',\r\n    marginTop: '25px',\r\n}\r\n\r\n\r\n// const btntxt = {\r\n//     height: \"10px\",\r\n//     margin: \"10px\",\r\n//     fontWeight: 'normal'\r\n//   }\r\n\r\nconst ingCheckButtonStyle = {\r\n    position: 'absolute',\r\n    backgroundColor: 'transparent',\r\n    background: 'transparent',\r\n    \r\n    width: '20px',\r\n    margin: '0 0 85% 0px',\r\n    outline:'none'\r\n    \r\n}\r\n\r\nconst logoStyle = {\r\n    width: '30%',\r\n    height: 'auto'\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useState } from \"react\";\r\nimport useFormInput from \"../hooks/useFormInput\";\r\nimport useGetIngredient from \"../hooks/useGetIngredient\";\r\nimport '../style/style.css';\r\nimport imgPicker, {\r\n  loadUrl,\r\n  ingError,\r\n  noIngFound,\r\n} from \"../util/imgPicker\";\r\n\r\nexport default function AddIngredient(props) {\r\n  Modal.setAppElement(document.getElementById(\"root\"));\r\n\r\n  const [isOpen, setIsOpen] = useState(false); // modal state\r\n  const [query, setQuery] = useState(\"***\"); // text for search\r\n  const input = useFormInput(\"\"); // input form logic\r\n  const { status, ingredient: ing } = useGetIngredient(query); // hook for returning searching cocktail db\r\n\r\n  const open = () => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed. model info => https://www.npmjs.com/package/react-modal\r\n    // subtitle.style.color = '#f00';\r\n  }\r\n\r\n  const close = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const submit = (input) => {\r\n    setQuery(input.value); // state will trigger useGetIngredient to retrive ingredient from cocktail db\r\n  };\r\n\r\n  const loading = () =>{\r\n    return <img src={loadUrl} alt=\"tungsten\" style={ingStyle}  width=\"80\" height=\"80\"></img>\r\n  }\r\n\r\n  const displayResult = () => {\r\n    try {\r\n      switch (status) { \r\n        case \"init\":\r\n          return <h2> </h2>; //initial state -> nothing to show\r\n\r\n        case \"requesting\":\r\n          return loading(); // imgPicker\r\n\r\n        case \"received\":\r\n          if (ing !== null)\r\n            return (\r\n              <div>\r\n                <h1> </h1>\r\n               \r\n                <button key={ing.idIngredient} className=\"ingredientButtons\" style={ingStyle} \r\n                onClick={() => props.update(ing)}>{imgPicker(ing.strIngredient)}<br /><span className=\"ingredientsList\">{ing.strIngredient}</span><br /></button>\r\n                \r\n              </div>\r\n            );\r\n          else return noIngFound();\r\n\r\n        case \"error\":\r\n          throw new Error();\r\n\r\n        default:\r\n          return <h2> </h2>;\r\n      }\r\n    } catch (err) {\r\n      //console.log(err);\r\n      return ingError();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div >\r\n      <button onClick={open} className=\"pantryPlus\">\r\n        {\" \"}\r\n        &nbsp;+&nbsp;{\" \"}\r\n      </button>{\" \"}\r\n      {/* button for adding ingredient  --> currently put it in mobile style*/}\r\n      <Modal\r\n        isOpen={isOpen}\r\n        onAfterOpen={afterOpenModal}\r\n        onRequestClose={close}\r\n        //style={customStyles}\r\n        className=\"modal\"\r\n        overlayClassName=\"Overlay\"\r\n      > \r\n      <div>\r\n        {/* <button onClick={close} style={{ float:'right' }} className=\"signIn\">\r\n          close\r\n        </button>{\" \"} */}\r\n        {/* Modal content */}\r\n        <div style={{textAlign:'center'}}>\r\n        <h2 style = {{margin: '8% 0'}}>Add Ingredient</h2>\r\n        <input {...input} id=\"InputText\" type=\"search\" autoComplete=\"false\" />\r\n        <button className=\"signIn\" onClick={() => submit(input)} style={{ display:'block', margin:'1rem auto' }}>\r\n          search\r\n        </button>\r\n        <div style={{marginBottom: '8%'}}>{displayResult()}</div>\r\n        </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ingStyle = {\r\n    backgroundColor: 'transparent',\r\n    background: 'transparent',\r\n    outline:'none',\r\n    width:'120px'\r\n}\r\n\r\n","import useGetPantry from '../hooks/useGetPantry';\r\nimport React, {useState} from 'react';\r\nimport '../style/style.css'\r\nimport AddIngredient from './AddIngredient';\r\nimport imgPicker, {loadPantryUrl} from '../util/imgPicker';\r\nimport { getUserObject } from '../services/authService';\r\nimport { updateUserPantry } from '../services/userService';\r\n\r\nexport default function Pantry(props){\r\n    \r\n    const  [pantry, setPantry] = useState();\r\n    const  [selected, setSelected] = useState([]); // selected ingredients state\r\n    const {status, ingredients} = useGetPantry(); // possible to add a refresh button to recall database values using dependancy prop\r\n\r\n    const addIngredients = async(ingredient) => { // called from AddIngredient modal ok clicked\r\n        try{\r\n            if (ingredients.some(i => i.idIngredient === ingredient.idIngredient)) return; //if ingredient is already in pantry; Note show some message\r\n            let newPantry = [...ingredients,ingredient]; //has to be mutable\r\n            setPantry(newPantry); //  optimistic update\r\n            ingredients.push(ingredient); //update for next input, has to be unmutable\r\n            \r\n            if (!await updateDB(newPantry)){\r\n                ingredients.pop() // revert if error updating db\r\n                setPantry(ingredients); // set to original\r\n                // Note display some friendly error\r\n            }\r\n        }\r\n        catch(err){\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    // responsible for removing ingredients from user document in the database and updating ui. \r\n    const removeIngredients = async() => {\r\n        try{\r\n            let newPantry = ingredients.filter(i => !selected.some(e => e.idIngredient === i.idIngredient)); //removing selected ingredients from pantry on delete\r\n            setPantry(newPantry); //updating pantry state before altering db to display change // optimistic update\r\n           \r\n            const cachedIng = [...ingredients];  //caching previous state\r\n            ingredients.length = 0; // clearing ingredients\r\n\r\n            newPantry.forEach(e => ingredients.push(e)); // updating ingredients list to new pantry\r\n            const cachedSelected = [...selected]; //caching selected ingredients\r\n            selected.length = 0; // clearing selected/focused  ingredients array\r\n            \r\n            if (!await updateDB(newPantry)){ //revert to previous state while keeping selected items focused\r\n                cachedSelected.forEach(e => ingredients.push(e)); // revert ingredients list\r\n                setSelected(cachedSelected); // refocus selected ingredients\r\n                setPantry(cachedIng); // set display to pre update\r\n                // Note display some friendly alert\r\n            }\r\n        }\r\n        catch(err){\r\n            //console.log(err);\r\n        }\r\n\r\n    }\r\n    \r\n    try{\r\n        if (!props.isAuthed) // will never be called because we are removing function by logged in status condition instead\r\n        return  <h1> Please Login </h1>\r\n        \r\n        switch(status){\r\n            \r\n            case 'init':\r\n            return renderLoading(addIngredients); // shows loading display\r\n\r\n            case 'requesting':\r\n            return renderLoading(addIngredients);\r\n\r\n            case 'received': \r\n            return renderPantry(pantry, addIngredients, selected, setSelected, ingredients, removeIngredients); //if ingredients received from database then we can render them.\r\n       \r\n            case 'invalid token': // Need to test \r\n            return  <h1> Please Login </h1>\r\n\r\n            case 'error': // Tested\r\n            throw new Error();\r\n\r\n            default:\r\n            return <div><AddIngredient update={addIngredients}/><small style={style}>your pantry is empty</small></div>\r\n\r\n            }\r\n        }catch(err){\r\n                console.log(err);\r\n                return <div><AddIngredient update={addIngredients}/><h1 style={style}>Oops :(</h1></div>\r\n        }\r\n\r\n}\r\n        \r\n\r\nconst updateDB = async newPantry => {\r\n    \r\n    try{\r\n        let currentUser = getUserObject(); //user from token\r\n        if(!currentUser || typeof currentUser === 'undefined') throw new Error('Invalid User');\r\n        await updateUserPantry(currentUser, newPantry.map(i => i.idIngredient)); // auth protected server route\r\n        //await updateUserPantry(currentUser, null); //error callback test -> sending invalid update to db -> uncomment for optimistic update revert test\r\n        return true;\r\n    }\r\n    catch(err){\r\n        if (err.response.data)\r\n        console.log(err.response.data); //server comment\r\n        else\r\n        console.log(err);\r\n        return false; //return false to revert display change in updatePantry Function\r\n    }   \r\n}\r\n\r\n\r\n    // responsibe for rendering the list of ingredients\r\n    const renderPantry = (pantry, updatePantry,selected, setSelected, ingredients, removeIngredients) => {\r\n        const choice = !pantry? ingredients : pantry; // pantry will always be undefined at init. we want to use database ingredients from useGetPantry. \r\n        if (choice.length > 0) // if we have something to show\r\n        return (<React.Fragment><div style={{textAlign:'center', marginTop:'32px','position': 'relative'}}><strong className='pantry-header'>\r\n                Ingredients</strong><button style={buttonRemoveStyle(selected)} onClick={()=>removeIngredients()}></button>\r\n                </div>\r\n                <div  style={style}>\r\n                <ul className=\"ingredient-list\" style={{marginTop: '24px'}}> {choice.sort((a,b) => sortIng(a.strIngredient,b.strIngredient)).map(i => \r\n                <button key={i.idIngredient} style={buttonStyle(i, selected)} onMouseOver={e => buttonHovered(e,i,selected)} onMouseLeave={e => buttonUnhovered(e,i,selected)}  \r\n                onClick={(e) => onSelect(i,selected,setSelected,e)}>{imgPicker(i.strIngredient)}<h4 style={btntxt}>{i.strIngredient}</h4></button>)} {/* handling selected ingredients -> onselect */}\r\n                </ul> <AddIngredient update={updatePantry}/></div></React.Fragment>\r\n                );\r\n\r\n        return <div><AddIngredient update={updatePantry}/><h4 style={emptyPantryStyle}>your pantry is empty</h4></div> \r\n}\r\n\r\n\r\n\r\n    const renderLoading = updatePantry => {\r\n        return( <>\r\n            <h1 style={style}> </h1>\r\n            <img src={loadPantryUrl} alt=\"tungsten\" style={imgStyle}></img><AddIngredient update={updatePantry}/>\r\n            </>)\r\n}\r\n\r\n    function sortIng(a, b){ //simple sorting that may be handled by default but i coded it for future mods.\r\n        if(a > b) return 1\r\n        if(a < b) return -1\r\n        return 0;\r\n    }\r\n\r\n    \r\n    function onSelect(ing, selected, setSelected){ // adds, removes selected items from list.\r\n        const index = selected.findIndex(i => i.idIngredient === ing.idIngredient);\r\n        \r\n        let newSelection = [...selected] // copying array\r\n\r\n        if (index === -1) // notFound;\r\n            newSelection = [...selected, ing] // add ing to list\r\n        else\r\n            newSelection.splice(index,1); // removing ingredient from array if deselected\r\n        setSelected(newSelection); // updating state\r\n        //console.log(selected);\r\n\r\n    }\r\n\r\n\r\n\r\n    // Quick styling\r\n\r\n\r\n    function buttonStyle(i, selected){\r\n        //console.log(selected.includes(i));\r\n        return selected.includes(i) ? ingstyleSel : ingStyle\r\n}\r\n\r\n    function buttonHovered({currentTarget: button},i,selected) {\r\n        if (selected.includes(i)) return;\r\n    \r\n    button.style.background = 'linear-gradient(130deg, transparent 50%, hsla(120, 60%, 70%, 0.5)100%)'\r\n}\r\n\r\n\r\n    function buttonUnhovered({currentTarget: button},i,selected) { //styling  selected ingredients.\r\n        if (selected.includes(i)) return;\r\n        button.style.border = ingStyle.border;\r\n        button.style.padding = ingStyle.padding;\r\n        button.style.background = ingStyle.background;\r\n}\r\n\r\n\r\n    function buttonRemoveStyle(selected){  // will do for now , hides shows trash icon\r\n        if (selected && !selected.length > 0){\r\n            return {\r\n                position: 'absolute',\r\n                opacity: '0',\r\n            }\r\n        }else{\r\n            return {\r\n\r\n                position: 'absolute',\r\n                top : '0%',\r\n                background: `url('https://media2.giphy.com/media/H9iBUt1bPrsfWBUeLQ/giphy.gif?cid=ecf05e47q3h6s7f77fnud3pa363x6nzi9lpbw8c6wy230sic&rid=giphy.gif') no-repeat`,\r\n                backgroundSize: 'contain',\r\n                marginLeft: '20%',\r\n                width: '80px',\r\n                height: '80px',\r\n                border: 'none',\r\n                borderWidth : '1px',\r\n                opacity: '100',\r\n                cursor: 'pointer',\r\n            }\r\n        }\r\n       \r\n    }\r\n\r\n\r\n\r\n    \r\nconst style = {\r\n    textAlign: 'center',\r\n    padding: '48px 0',\r\n}\r\n\r\nconst emptyPantryStyle = {\r\n    fontWeight: 'lighter',\r\n    textAlign: 'center',\r\n    padding: '60px 0 200px 0'\r\n}\r\n\r\nconst ingStyle = {\r\n    backgroundColor: 'transparent',\r\n    background: 'transparent',\r\n    margin: \"5px\",\r\n    borderRadius: '2%',\r\n    border: 'none',\r\n    fontSize: '12px',\r\n    padding: '8px',\r\n    outline:'none',\r\n    width:'120px'\r\n}\r\n\r\nconst ingstyleSel =  {\r\n    backgroundColor: 'transparent',\r\n    background: 'linear-gradient(20deg, transparent 50%, hsla(180, 60%, 70%, 0.2)100%)',\r\n    margin: \"5px\",\r\n    borderRadius: '2%',\r\n    border: '',\r\n    borderWidth: '1px',\r\n    fontSize: '12px',\r\n    padding: '7px',\r\n    outline:'none',\r\n    width:'120px'\r\n}\r\n\r\n\r\n\r\nconst btntxt = {\r\n    height: \"10px\",\r\n    margin: \"10px\",\r\n    fontWeight: 'normal'\r\n  }\r\n\r\nconst imgStyle = {\r\n    display:'block',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    width: '10%',\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      ","import { useEffect, useState } from 'react';\r\nimport { getUserObject } from '../services/authService';\r\nimport { getUser } from '../services/userService';\r\nimport { getCancelToken } from '../services/httpService';\r\n// import  apiFetch  from '../services/apiService';\r\n\r\n// Quick Implementation responsible for getting the favs from users in database. // basically the same as useGetPantry\r\n\r\nexport default function useGetFavs(props){\r\n\r\n    const [status, setStatus] = useState('init');\r\n    const [favs, setFavs] = useState();\r\n    \r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        const source = getCancelToken(); // we need to cancel the request if user the component unmounts. \r\n\r\n            async function requestUserFavs(){\r\n                try {\r\n                    \r\n                    setStatus('requesting');\r\n                    let currentUser = getUserObject();\r\n                    if(!isMounted || !currentUser || typeof currentUser === 'undefined') return setStatus('invalid token');\r\n\r\n                    currentUser = await getUser(currentUser, { cancelToken: source.token}); \r\n                    \r\n                    if(isMounted){\r\n                        const cocktails = currentUser.data.favs.filter(i => checkItem(i));\r\n                        setFavs(cocktails);\r\n                        setStatus('received');\r\n                    }\r\n                }\r\n                catch(ex){\r\n                    setStatus('error');\r\n                    return ex;\r\n                }\r\n            }\r\n            \r\n            requestUserFavs();\r\n        \r\n        return () => {\r\n            setStatus('idle');\r\n            isMounted = false;\r\n            source.cancel(\"canceled\");\r\n        };\r\n\r\n    },[props]);\r\n\r\n    return {\r\n        status,\r\n        favs\r\n    }\r\n}\r\n\r\nfunction checkItem(i) {\r\n    return i !== undefined; //checking items just in case there are blanks\r\n}\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getUserObject } from '../../services/authService';\r\nimport { updateUserFavs } from '../../services/userService';\r\nimport useGetFavs from '../../hooks/useGetFavs';\r\nimport useGetDrinkRecipe from '../../hooks/useGetDrinkRecipe';\r\nimport {ingredientButtons, backButton, ingCheckButtons, likeIconUrl, loadRecipes} from '../../util/imgPicker';\r\nimport TungstenLogo_s from '../../img/TungstenLogo_s.png';\r\nimport '../../style/style.css'; // CSS\r\n\r\n\r\n\r\n// NB: the state item drinks, inside recipeInstructionsApiData, hsa been filled with blank data in a format that matches the actual JSON data we hope to render.\r\n    // this dummy data helps to correctly render the real JSON results, even if their is a delay before the JSON data can be read and the component needs to re-render with the new data.\r\n\r\nfunction RecipeViewer (props) {\r\n  \r\n      const [loaded, setLoaded ] = useState(false);\r\n      const image = React.createRef();\r\n      const { isAuthed, userPantry, returnFromRecipe, backButtonText, recipeURL: API_URL} = props; // returnFromRecipe references a function in App.js which changes the active component back to the cocktails listed according to the chosen ingredients.\r\n      const {drink, status } = useGetDrinkRecipe(API_URL);\r\n      const [fav, setFav] = useState();\r\n      const {status: favsStatus, favs } = useGetFavs();\r\n\r\n      \r\n  \r\n  function ScrollToTopOnMount() {\r\n    useEffect(() => {\r\n      window.scrollTo({\r\n        top: window.innerHeight*0.33,\r\n        behavior: 'smooth'\r\n      });\r\n    }, []);\r\n  \r\n    return null;\r\n  }\r\n\r\n  const handleImageLoaded = () => { // changes img source from placeholder once image has loaded\r\n    if(!loaded){\r\n      setLoaded(true);\r\n    }\r\n  }\r\n  \r\n  useEffect(() => {\r\n    \r\n    if (isAuthed && favsStatus === 'received' && status === 'received'){\r\n      setFav(favs.some(i => i.idDrink === drink.idDrink));\r\n    }\r\n  },[favsStatus,status,favs,drink, isAuthed])\r\n\r\n  const toggleFav = async() => {\r\n   \r\n    const { idDrink, strDrink, strDrinkThumb, strAlcoholic, strCategory } = drink;\r\n    const cocktail = { idDrink, strDrink, strDrinkThumb, strAlcoholic, strCategory }\r\n    \r\n    \r\n    if (favs.some(i => i.idDrink === drink.idDrink)){\r\n      const index = favs.findIndex(i => i.idDrink === cocktail.idDrink);\r\n      favs.splice(index,1);\r\n      updateFavProp(favs)\r\n      setFav(false);\r\n     if(!await updateDatabase(favs)){\r\n       setFav(true);\r\n       favs.push(cocktail);\r\n       updateFavProp(favs)\r\n      }\r\n    }\r\n    //ADD\r\n    else{\r\n      setFav(true);\r\n      favs.push(cocktail);\r\n      updateFavProp(favs)\r\n      if(!await updateDatabase(favs)){\r\n        setFav(false);\r\n        favs.pop(cocktail);\r\n        updateFavProp(favs)\r\n      }\r\n    }\r\n    \r\n  }\r\n  const updateFavProp = favs => {\r\n    if (props.updated) props.updated(favs);\r\n  }\r\n\r\n  const updateDatabase = async newFavs =>{\r\n    try{\r\n      let currentUser = getUserObject(); //user from token\r\n      if(!currentUser || typeof currentUser === 'undefined') throw new Error('Invalid User');\r\n      await updateUserFavs(currentUser, newFavs); // auth protected server route\r\n      //await updateUserPantry(currentUser, null); //error callback test -> sending invalid update to db -> uncomment for optimistic update revert test\r\n      return true;\r\n      }\r\n      catch(err){\r\n        if (err.response.data)\r\n          console.log(err.response.data); //server comment\r\n        else\r\n          console.log(err);\r\n        return false; //return false to revert display change in updatePantry Function\r\n      }   \r\n  }\r\n\r\n\r\n  const handleLike = () => { //props -> updates favourites list\r\n    toggleFav();\r\n  }\r\n\r\n \r\n  const ingredientNames = []; // getting ingredient values from drink props for rendering images // small amount of data to process // \r\n  if (status === 'received'){\r\n      for (const prop in drink){\r\n        if (drink && prop.match(/^strIngredient/) && drink[prop] !== ''  && drink[prop] !== null && !ingredientNames.some(i => i === drink[prop])){ //checking prop is stringredient\r\n          const measurement = drink[`strMeasure${prop.slice(-1)}`]; //getting corresponding measurement using number values at end of prop name\r\n          measurement != null ? ingredientNames.push({name : drink[prop], measure : measurement}) : ingredientNames.push({name : drink[prop]});  // pushing info as object  \r\n        }\r\n      }\r\n      //console.log(ingredientNames);\r\n  }\r\n\r\n  const favIcon = () => { return <><button onClick={handleLike} style={{background: 'transparent', border: 'none'}}><img src={likeIconUrl} alt = \"tungsten\" style={ fav? favIconStyle : unFavIconStyle}></img></button></>}\r\n  \r\n    return(\r\n      <div className=\"RecipeViewer\">\r\n      {backButton(returnFromRecipe, backButtonText)}    \r\n      {(status === 'idle' || status === 'requesting')  && loadRecipes()}   \r\n      {status === 'received' && <React.Fragment> {/* display details once api has been sucessfully loaded */ } \r\n          <ScrollToTopOnMount/>\r\n\r\n          <div className=\"recipeImage\" >\r\n            <h1>{drink.strDrink}</h1><br />\r\n            <>\r\n            {isAuthed && favsStatus === 'received' && favIcon()}\r\n            <img src= {loaded? drink.strDrinkThumb : TungstenLogo_s} alt=\"tungsten\" style={imgStyle} ref={image} onLoad={handleImageLoaded}/>\r\n            </>\r\n            <h3>Glass</h3><div style={{color:'whitesmoke'}}><p >\r\n                { drink.strGlass }\r\n                { (!drink.strGlass || drink.strGlass === null) && 'any' }\r\n                </p>\r\n                </div>\r\n          </div>\r\n            <h3>Ingredients</h3><br />\r\n            <div className=\"recipeview-inglist\">\r\n            {ingredientNames.sort().map((i,index) => {// Checking ingredients against ingredients in pantry\r\n                if (isAuthed && userPantry && userPantry.some(e => e.strIngredient.toLowerCase() === i.name.toLowerCase())) // cocktail api has some issues with consistency in naming \r\n                return ingCheckButtons(i.name,i.name+index,function(){},i.measure,\"60\"); //displays pantry icon beside ing that user has\r\n                return ingredientButtons(i.name,i.name+index,function(){},i.measure,\"60\");//displays reg ing\r\n            })}\r\n            </div>\r\n            <h3>Instructions</h3>\r\n            <div style={{textAlign:'center', float: 'center'}}>\r\n                { styleInstruction(drink.strInstructions) }\r\n            </div><hr></hr>\r\n            </React.Fragment>\r\n            } \r\n      </div>\r\n    );\r\n    \r\n  }\r\n\r\n\r\nexport default RecipeViewer;\r\n\r\n\r\nfunction styleInstruction(instructions){ // mapping instructions to single lines.\r\n\r\n  const lines = instructions.split(/\\.\\s|\\.$|\\d\\./);\r\n  return(<p style={{lineHeight: '200%', whitSpace: 'pre-wrap', color:'white', padding:' 0 32px', maxWidth:'600px', margin: 'auto'}}>\r\n  \r\n    {lines.map((i,index )=> (\r\n    i !== '' && <span key={index}><li className=\"recipe-text\">{i}</li><br></br></span>\r\n ))}</p>\r\n    \r\n  )\r\n}\r\n\r\n\r\nconst imgStyle = {\r\n  display:'block',\r\n  marginLeft: 'auto',\r\n  marginRight: 'auto',\r\n  borderRadius: '30px'\r\n}\r\n\r\nconst favIconStyle = {\r\n  position: 'relative',\r\n  backgroundColor: 'transparent',\r\n  background: 'transparent',\r\n  width: '28px',\r\n  margin: '0 -400% -105% 0%',\r\n  outline:'none'\r\n}\r\n\r\nconst unFavIconStyle = {\r\n  position: 'relative',\r\n  backgroundColor: 'transparent',\r\n  background: 'transparent',\r\n  width: '28px',\r\n  margin: '0 -400% -105% 0%',\r\n  outline:'none',\r\n  opacity: '50%',\r\n\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport apiFetch from '../services/apiService';\r\n//import { getCancelToken } from '../services/httpService';\r\n\r\n\r\nexport default function useGetFavs(API_URL){\r\n\r\n    const [status, setStatus] = useState('init');\r\n    const [drink, setDrink] = useState();\r\n\r\n    useEffect(() => {\r\n      \r\n        let isMounted = true;\r\n        async function cocktailRecipe(){\r\n          \r\n          try{\r\n            setStatus(\"requesting\");\r\n            const jsonResult = await apiFetch(API_URL);\r\n            if (isMounted){\r\n                if (jsonResult && jsonResult.drinks[0]){\r\n                    setDrink(jsonResult.drinks[0]);\r\n                    setStatus(\"received\");\r\n                    \r\n                }\r\n            }\r\n  \r\n          }catch(error){\r\n            setStatus(\"error\");\r\n          }\r\n          \r\n        }\r\n  \r\n        cocktailRecipe();\r\n  \r\n        return ()=> {\r\n          isMounted = false;\r\n        }\r\n\r\n\r\n    }, [API_URL]);\r\n\r\n    return {\r\n        status,\r\n        drink\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","import {useState, useEffect, useCallback} from 'react';\r\nimport {backButtonUrl} from '../util/imgPicker';\r\n\r\nexport default function DropDown(props){\r\n\r\n        const [ isListOpen, setIsListOpen] = useState();\r\n        const [ headerTitle, setHeaderTitle] = useState();\r\n        const { list, toggleItem, title, single, multi } = props;\r\n\r\n        const toggleList = () => {\r\n            setIsListOpen(prevIsListOpen => !prevIsListOpen)\r\n        }\r\n\r\n        // const selectItem = (item) => {\r\n        //     const { title, id, key } = item;\r\n        //     setHeaderTitle(title);\r\n        //     setIsListOpen(false);\r\n        //     toggleItem(id, key);\r\n        // }\r\n        \r\n        const handleClose = useCallback(() => {\r\n            setIsListOpen(false)\r\n        },[setIsListOpen])\r\n\r\n\r\n        useEffect(() => {\r\n\r\n            setTimeout(() => {\r\n            if(isListOpen){\r\n                window.addEventListener('click', handleClose)\r\n              }\r\n              else{\r\n                window.removeEventListener('click', handleClose)\r\n              }\r\n            },0);\r\n\r\n            return () => {\r\n                window.removeEventListener('click', handleClose);\r\n            }\r\n\r\n        },[isListOpen, handleClose]);\r\n\r\n\r\n        useEffect(() => {\r\n\r\n            const count = list.filter((item) => item.selected).length;\r\n\r\n            if (count === 0) {\r\n                setHeaderTitle(title);\r\n              }\r\n              if (count === 1) {\r\n                setHeaderTitle(`${count} ${single}`);\r\n              }\r\n              if (count > 1) {\r\n                setHeaderTitle(`${count} ${multi}`);\r\n              }\r\n            \r\n        },[list,multi, single,title])\r\n        \r\n\r\n        const handleSelect = (id) => {\r\n            toggleItem(id);\r\n        }\r\n\r\n\r\n        return (\r\n          <div className=\"dropdown-wrapper\">\r\n            <button \r\n              type=\"button\"\r\n              className=\"dropdown-header\"\r\n              onClick={toggleList}\r\n            >\r\n              <h4>{headerTitle}\r\n                <img src={backButtonUrl} alt='tungsten' className={isListOpen ? \"dropdown-imgopen\" : \"dropdown-imgclose\"}></img>\r\n            </h4>\r\n            </button>\r\n            {isListOpen && (\r\n              <div\r\n                role=\"list\"\r\n                className=\"dropdown-content\"\r\n              >\r\n                {list.map((item) => (\r\n                 <button key={item.id}\r\n                    type=\"button\"\r\n                    className=\"dd-list-item\"\r\n                    onClick={(e) => {e.stopPropagation(); handleSelect(item.id)}}\r\n                  >\r\n                    {item.title}\r\n                    {' '}\r\n                    {item.selected && <img src={backButtonUrl} alt='tungsten'></img>}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )\r\n      \r\n\r\n}\r\n\r\n\r\n","\r\nimport React, {useEffect, useState} from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport '../style/style.css'\r\nimport useGetFavs from '../hooks/useGetFavs';\r\nimport {placeholder, likeIconUrl, loadUrl} from '../util/imgPicker';\r\nimport RecipeViewer from '../components/mergeComp/recipe-viewer';\r\nimport useGetPantry from \"../hooks/useGetPantry\";\r\nimport useFormInput from '../hooks/useFormInput';\r\nimport DropDown from './DropDown';\r\n\r\n\r\nexport default function Fav(props){\r\n  \r\n    const [display, setDisplay] = useState(props.setDisplay);\r\n    const [loaded, setLoaded ] = useState(false);\r\n    const [recipeURL, setRecipeURL] = useState();\r\n    const [cocktails, setCocktails] = useState();\r\n    const [isNonAlc, setIsNonAlc] = useState(false);\r\n    const [categorys, setCategorys] = useState([]);\r\n\r\n\r\n    const {isAuthed} = props;\r\n    const {status: favsStatus, favs } = useGetFavs();\r\n    const {status: pantryStatus, ingredients } = useGetPantry();\r\n    const image = React.createRef();\r\n    const input = useFormInput('');\r\n    \r\n    const handleImageLoaded = () => { // changes img source from placeholder once image has loaded\r\n        if(!loaded){\r\n          setLoaded(true);\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n      if (props.location.pathname === '/fav/recipes'){\r\n        setDisplay('Favourites');\r\n      }\r\n    },[setDisplay,props.location.pathname])\r\n\r\n\r\n    useEffect(() => {\r\n      if (!cocktails) return;\r\n\r\n      const categoryList = [];\r\n      let count = 0;\r\n      cocktails.forEach(cocktail => {\r\n          if (cocktail['strCategory']){\r\n            if (!categoryList.some( i => i ===  cocktail['strCategory']))\r\n             categoryList.push(cocktail['strCategory']);\r\n        }\r\n      })\r\n      setCategorys(categoryList.sort().map(i => ({id: count++, title: i, selected: false}) ));\r\n    },[cocktails]);\r\n\r\n\r\n    const DropDownList = () => {\r\n      \r\n      if (!categorys) return <DropDown title=\"No Categories\" single=\"Selected\" multi=\"Selected\" list={[]} toggleItem={toggleItem}></DropDown>;\r\n      return(\r\n        <DropDown title=\"Select Categories\" single=\"Category\" multi=\"Categories\" list={categorys} toggleItem={toggleItem}></DropDown>\r\n        )\r\n      }\r\n      \r\n      const toggleItem = (id) => {\r\n        const temp = [...categorys];\r\n        temp[id].selected = !temp[id].selected;\r\n        setCategorys(temp);\r\n      }\r\n   \r\n\r\n\r\n    const makeInstructionsURL = (i) =>  {\r\n      \r\n      if (pantryStatus === 'received'){\r\n        if(i.idDrink){\r\n          let recipeEARL = \"/lookup.php?i=\";\r\n          recipeEARL += i.idDrink;\r\n          setRecipeURL(recipeEARL);\r\n          props.history.push(`${props.match.url}/${i.strDrink}`);\r\n          setDisplay(\"recipe-viewer\");\r\n        }\r\n        else{\r\n          console.log(\"received drink ID is null\"); \r\n        }\r\n      }\r\n      \r\n    }\r\n    const updated = (favs) => { // function to update fav component according to recipeViewer changes \r\n      setCocktails(favs);\r\n    }\r\n    \r\n    const returnFromRecipe = () => { // function to change active component to the cocktails which include chosen ingredients\r\n      props.history.go(-1);\r\n    }\r\n    \r\n    const filtList = cocktail => {\r\n      return input.value ? cocktail.strDrink.toLowerCase().includes(input.value.toLowerCase()) :  cocktail\r\n    }\r\n\r\n    const filtAlc = cocktail => {\r\n      return isNonAlc ? cocktail.strAlcoholic.includes('Non alcoholic') : cocktail;\r\n    }\r\n\r\n    const filtCat = cocktail => {\r\n      return categorys.some(el =>  el['selected'] === true) ? categorys.some(el => el['title'] === cocktail['strCategory'] && el['selected'] === true) && cocktail : cocktail;\r\n    }\r\n\r\n    const handleAlcFilt = () =>{\r\n      setIsNonAlc(!isNonAlc);\r\n    }\r\n\r\n\r\n    const Recipe = () => {\r\n      return(\r\n      <Route path={`${props.match.url}/:id`} render={(props) => (<RecipeViewer {...props} \r\n      updated={updated}\r\n      favs={cocktails}\r\n      isAuthed={isAuthed}\r\n      userPantry={ingredients}\r\n      returnFromRecipe={returnFromRecipe}\r\n      backButtonText = {'Return to favourites'}\r\n      recipeURL = {recipeURL} />)}>\r\n      </Route>)\r\n    }\r\n\r\n  \r\n    if (favsStatus === 'received' && !cocktails) setCocktails(favs);\r\n    \r\n    if (display === 'Favourites'){\r\n      //cocktails.map(i => console.log(i.strCategory));\r\n      try{\r\n        if (!props.isAuthed) \r\n        return  <h1> Please Login </h1>\r\n        \r\n        switch(favsStatus){\r\n              \r\n          case 'init':\r\n              return renderLoading(); // shows loading display\r\n              \r\n              case 'requesting':\r\n                return renderLoading(); // shows loading display\r\n  \r\n              case 'received': \r\n              return <Route path=\"/fav/recipes\">{renderFavs(favs, cocktails,loaded, placeholder, handleImageLoaded, image, \r\n                                                makeInstructionsURL, filtList, filtAlc, input, handleAlcFilt, isNonAlc, DropDownList, filtCat)}</Route>; \r\n         \r\n              case 'invalid token': // Need to test \r\n              return  <h1> Please Login </h1>\r\n  \r\n              case 'error': // Tested\r\n              throw new Error();\r\n              \r\n              default:\r\n              return <><small style={style}>your favs is empty</small></>\r\n              \r\n              }\r\n          }catch(err){\r\n                  console.log(err);\r\n                  return <><h1 style={style}>Oops :(</h1></>\r\n          }\r\n  \r\n    }else if(display === \"recipe-viewer\"){\r\n      return pantryStatus !== 'received' ? renderLoading() : Recipe();\r\n    }\r\n    \r\n}\r\n    const renderLoading = () => {\r\n      return <img src={loadUrl} alt=\"tungsten\" style={{width:'10%', paddingTop:'200px'}}></img>\r\n    }\r\n    \r\n    // responsibe for rendering favs\r\n      const renderFavs = (favs, cocktails,loaded, placeholder, handleImageLoaded, image, makeInstructionsURL, filtList, filtAlc, input, handleAlcFilt, isNonAlc, DropDownList, filtCat) => {\r\n          //console.log(cocktails)\r\n          const choice = cocktails ? cocktails : favs;\r\n          if (choice.length > 0)\r\n          return (<React.Fragment><div className=\"SearchFormForm\" style={{marginTop: '64px'}}>\r\n      \r\n                  <div className=\"favsOptions\">\r\n\r\n                  <div id=\"categories\">\r\n                  {/* <h4 style={{margin: '0 0 12px 0'}}>Category</h4> */}\r\n                   {DropDownList()}\r\n                </div>\r\n                \r\n                  <form>\r\n                    <h4 style={{marginBottom: 'auto'}}>Search Favourites </h4> \r\n                    <input {...input} type=\"search\" placeholder=\"Search\"/>\r\n                  </form>\r\n      \r\n                    <div id=\"alc-filter\">\r\n                    <h4 style={{marginBottom: '12px'}}>Non-Alcoholic</h4>\r\n                    <label className=\"switch\" >\r\n                      <input type=\"checkbox\" onClick={handleAlcFilt} defaultChecked={isNonAlc}/>\r\n                      <span className=\"slider round\"></span>\r\n                    </label>\r\n                    </div>\r\n\r\n\r\n                  </div>\r\n                <p>Number of cocktails found: {choice.filter(filtList).filter(filtAlc).filter(filtCat).length}<br /></p>\r\n              </div>\r\n              <div className=\"fav-cocktails-list\">\r\n              {choice.filter(filtList).filter(filtAlc).filter(filtCat).sort((a,b) => sort(a.strDrink,b.strDrink)).map((i,index) => ( <button\r\n                onClick={() => makeInstructionsURL(i)}\r\n                key={index}\r\n                className=\"cocktails\"\r\n                \r\n              >\r\n                <img src={likeIconUrl} alt=\"tungsten\" style={favCheckButtonStyle}></img>\r\n                <img src={loaded? i.strDrinkThumb : placeholder} key={i.idDrink+index} alt='tungsten' ref={image} onLoad={handleImageLoaded}></img>\r\n                <div className=\"IngredientsList\">{i.strDrink}</div>\r\n              </button>  \r\n              ))}\r\n              </div><hr></hr>\r\n          </React.Fragment>);\r\n          else\r\n          return <small style={{ position:'absolute', margin: '10% 0'}}> {'<empty>'} </small> \r\n      }\r\n\r\n\r\n    function sort(a, b){\r\n      if(a > b) return 1\r\n    if(a < b) return -1\r\n    return 0;\r\n  }\r\n  \r\n \r\nconst style = {\r\n    textAlign: 'center',\r\n    padding: '48px 0',\r\n}\r\n\r\n\r\n\r\nconst favCheckButtonStyle = {\r\n  position: 'absolute',\r\n  left: '65%',\r\n  top:'-6%',\r\n  \r\n  backgroundColor: 'transparent',\r\n  background: 'transparent',\r\n  width: '10%',\r\n  outline:'none',\r\n  \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      ","import React, { Component } from \"react\";\r\nimport {ingredientButtons} from '../../util/imgPicker';\r\nimport '../../style/style.css';\r\n\r\nclass SearchResults extends Component {\r\n  ingredientFilterFunction(searchTerm) {\r\n    return function(ingredObj) {\r\n      let ingredName = ingredObj.strIngredient1.toLowerCase();\r\n      return ingredName.includes(searchTerm.toLowerCase());\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    window.scrollTo({\r\n      top: window.innerHeight*0.33,\r\n      behavior: 'smooth'\r\n    });\r\n  }\r\n  \r\n  // This was the first button handler in my code. Hence the basic name. It exists in App.js, and triggers a couple of other functions. Those functions add the chosen filter to the state filters list, and remove it from the cocktailIngredList\r\n  render() {\r\n    const buttonHandler = this.props.buttonHandler;\r\n    const searchTermFromProps = this.props.searchTerm;// described above\r\n    const cocktailIngredList = this.props.cocktailIngredList;// the list of possible ingredients\r\n    const compareAbc = this.props.compareAbc; // this is a function in App.js which alphabetically sorts the results.\r\n    const ingredientFilterFunction = this.ingredientFilterFunction;\r\n    \r\n    // let's calculate how many elements or obejcts are\r\n    // in the array after the filter is applied.\r\n    let numberResults = cocktailIngredList.filter(\r\n      ingredientFilterFunction(searchTermFromProps)\r\n    ).length;\r\n     \r\n    return (\r\n      <div style={{minHeight: '1000'}}>\r\n        <p>Number of ingredients found: {numberResults}<br /></p>\r\n\r\n          <div className=\"ingredient-list\">\r\n          {cocktailIngredList.filter(ingredientFilterFunction(searchTermFromProps)).sort(compareAbc).map(i => \r\n          ingredientButtons(i.strIngredient1, i.strIngredient1, buttonHandler))}\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n} // close the SearchResults component\r\n\r\nexport default SearchResults;\r\n\r\n","import React, { Component } from \"react\";\r\n\r\nclass SearchForm extends Component {\r\n  render() {\r\n    // this.props are the properties which are provided or passed\r\n    // to this component. We have the searchTerm and we have the\r\n    // onChange function. The searchTerm stores the user input into the search bar,\r\n    // the onChange updates state of App.js when user input changes. \r\n    const searchTermFromProps = this.props.searchTerm;\r\n    const onChangeFromProps = this.props.onChange;\r\n\r\n    return (\r\n      <div className=\"SearchFormForm\">\r\n        <form>\r\n          <h4 style={{margin: '64px 0 12px 0'}}>Search ingredients</h4> \r\n          <input\r\n            type=\"search\"\r\n            value={searchTermFromProps}\r\n            onChange={onChangeFromProps}\r\n            placeholder=\"Search\"\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n} // close the SearchForm Component\r\n\r\nexport default SearchForm;","import React, { Component } from \"react\";\r\nimport apiFetch from '../../services/apiService';\r\nimport { loadRecipes, backButton, ingredientButtons, ingCheckButtons } from '../../util/imgPicker';\r\nimport TungstenLogo_s from '../../img/TungstenLogo_s.png';\r\n\r\nclass RecipeResults extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      errorMsg: \"\", // To store error mounting API\r\n      recipeListApiData: \"\", // This is default / dummy API data (see import above). It should get replaced below. // has been removed\r\n      status: \"idle\",\r\n      loaded:false,\r\n    };\r\n    this.image = React.createRef();\r\n  }\r\n\r\n  handleImageLoaded = () => { // changes img source from placeholder once image has loaded\r\n    if(!this.state.loaded){\r\n      this.setState({ loaded: true});\r\n    }\r\n  }\r\n  \r\n\r\n  async componentDidMount(){\r\n     const img = this.image.current;\r\n   \r\n      try {\r\n        this.setState({status: \"requesting\"});\r\n        const testItem = {drinks:\"None Found\"};\r\n        const API_URL = this.props.resultsURL;\r\n        //console.log(API_URL);\r\n        \r\n        // const jsonResult = await response.json();\r\n        const jsonResult = await apiFetch(API_URL); // fetching data from server\r\n        //console.log(\"jsonResult received:\");\r\n        //console.log(jsonResult);\r\n        if(jsonResult.drinks === testItem.drinks){ //used in the dev stage\r\n          //console.log(\"Test case hit - blank results page\");\r\n          this.setState({ recipeListApiData: [] });\r\n          // Otherwise it will fill it with data in the wrong format.\r\n          // This way it is easy to identify empty results. \r\n        }\r\n        else this.setState({ recipeListApiData: jsonResult.drinks });\r\n        //console.log(\"Mount attempt successful. Data Loaded:\");\r\n        //console.log(this.state.recipeListApiData);\r\n        if(img && img.complete)\r\n          this.handleImageLoaded(); // changes the load state which will render the cocktail image \r\n\r\n        this.setState({status: \"received\"});\r\n\r\n        window.scrollTo({\r\n          top: window.innerHeight*0.33,\r\n          behavior: 'smooth'\r\n        });\r\n        \r\n      \r\n      } catch (error) {\r\n        //console.log(error);\r\n        this.setState({ status: error });\r\n        this.setState({ errorMsg: error });\r\n      }\r\n   \r\n  }\r\n\r\n  render(){\r\n   \r\n    const { userPantry, isAuthed, backButtonText, returnToSearch, filters, makeInstructionsURL } = this.props\r\n    const { status, loaded, recipeListApiData: recipeList } = this.state;\r\n    \r\n\r\n    \r\n    return(\r\n      \r\n      <div className=\"recResultsAll\">\r\n        {backButton(returnToSearch,backButtonText)}\r\n        <div>\r\n          <h4>Active Ingredients:</h4><br />\r\n            {filters.sort(this.compareAbc).map((i,index) => {\r\n                if (isAuthed && userPantry.some(e => e.strIngredient1 === i.strIngredient1)) // Checking ingredients against ingredients in pantry\r\n                return ingCheckButtons(i.strIngredient1,i.strIngredient1+index,function(){},undefined,\"60\"); //add in pantry icon\r\n                return ingredientButtons(i.strIngredient1,i.strIngredient1+index,function(){},undefined,\"60\"); // default icon\r\n            })}\r\n          </div>\r\n        <h1>Cocktail Recipes</h1>\r\n          \r\n          {status === 'requesting' ? loadRecipes() : status === 'idle' && <></> } {/* display loading gif while api data is being req*/ }\r\n            {/* display recipes once api has been sucessfully loaded */ }\r\n          {status === 'received' &&  \r\n          <>\r\n          <p>Number of cocktails found: {recipeList.length}</p>\r\n          {recipeList.map((a,index) => (\r\n            \r\n            <button\r\n              onClick={() => makeInstructionsURL(a.idDrink)} // display loading gif while api data is being req // \r\n              key={index+\"-recl\"}\r\n              className=\"cocktails\"\r\n            >\r\n              <img src={loaded? a.strDrinkThumb : TungstenLogo_s} key={a.idDrink+index} alt='tungsten' ref={this.image} onLoad={this.handleImageLoaded} /><br /> {/* display cocktail image */ }\r\n              <span className=\"IngredientsList\">{a.strDrink}</span> {/* display cocktail name */ }\r\n            </button>\r\n          ))}\r\n            </>\r\n          }\r\n          {status === 'error' && <></>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RecipeResults;\r\n","\r\nimport React, { useEffect, useState } from \"react\";\r\n// The following two components are shown on the first/start page of the search (they could probably do with being merged really):\r\nimport SearchResults from \"./search-results\"; // NB: this search results is list of INGREDIENTS. Recipe search results is below.\r\nimport SearchForm from \"./search-form\";\r\n//\r\nimport RecipeResults from \"./recipe-results\"; // This component displays the results of searching for cocktails with certain ingredients\r\nimport RecipeViewer from \"./recipe-viewer\"; // This component displays a specific cocktail recipe, once chosen\r\nimport apiFetch from '../../services/apiService';\r\n//\r\nimport '../../style/style.css'; // CSS\r\nimport '../../index.css';\r\nimport useGetPantry from \"../../hooks/useGetPantry\";\r\nimport {ingredientButtons, loadUrl} from '../../util/imgPicker';\r\n\r\n\r\nconst API_KEY = true; // import API key from .env file\r\n\r\nexport default function SearchCocktail(props) {\r\n \r\n\r\n    const  [searchTerm, setSearchTerm] = useState(\"\"); // stores user input into the searchbar\r\n    const  [len, setLen] = useState(0);  // this stores character length  of the search term. Useful if hiding results until len !=0\r\n    const  [filters,setFilters] = useState([]);  // this stores selected ingredients\r\n    const  [apiData, setApiData] = useState([]);  // this stores the JSON result for THE LIST OF INGREDIENTS. This is a list of 100 ingredients provided by the database admins.\r\n    const  [isFetched, setIsFetched] = useState(false);  // check JSON returned / not returned\r\n    const  [errorMsg,setErrorMsg] = useState(null);  // if fail to mount API, this will store the error message.\r\n    const  [resultsURL, setResultsURL] = useState(\"\");  // this stores the URL to get the search results. It is given its value by a function, makeResultsURL, before mounting the results component.\r\n    const  [recipeURL, setRecipeURL] = useState(\"\");  // this stores the URL to get the specific recipe instructions. A similar function gives it its value: makeInstructionsURL.\r\n    const  [display,setDisplay] = useState(props.setDisplay);  // this determines which component is displayed (values: \"searchpage\", \"recipe-results\", \"recipe-viewer\")\r\n\r\n    const  [usePantry, setUsePantry] = useState();\r\n    const  {status, ingredients} = useGetPantry(usePantry);\r\n    const  searchPage = \"searchPage\";\r\n    const  recipeResults = \"recipe-results\";\r\n    const  recipeViewer = \"recipe-viewer\";\r\n    \r\n  \r\n  function onSearchFormChange(e) { // this detects user input in the search bar and updates state with the current search info\r\n    setSearchTerm(e.target.value);\r\n    let sTerm = e.target.value;\r\n    let numChars = sTerm.length;\r\n    setLen(numChars);\r\n  }\r\n\r\n    useEffect(() => {\r\n        \r\n      let isMounted = true;\r\n      async function requestIngredients(){\r\n        \r\n        if (!usePantry){\r\n                let jsonResult;\r\n                try {\r\n                  jsonResult = await apiFetch('/list.php?i=list');\r\n                  \r\n                    if(isMounted){\r\n                      setApiData(jsonResult.drinks);\r\n                      setIsFetched(true);\r\n                    }\r\n                  } catch (error) {\r\n                    setIsFetched(false);\r\n                    setErrorMsg(error);\r\n                  }\r\n                }\r\n                if (usePantry){\r\n                  if (status === 'received'){\r\n                      const newIngredients = ingredients.map(function(o){ //Quick solution\r\n                        o['strIngredient1'] = o['strIngredient'];\r\n                        return o;\r\n                      })\r\n                    setApiData(newIngredients);\r\n                  }\r\n                }\r\n              }\r\n              requestIngredients();\r\n              \r\n              return () => {\r\n            isMounted = false;\r\n            \r\n        };\r\n\r\n    },[usePantry, ingredients, status]);\r\n\r\n  \r\n  function findFilterObject(filterId) { // this is a utility finder function, to find an object with an identifying parameter of the object: filterId\r\n    return function(filterObj) {\r\n      return filterObj.strIngredient1 === filterId;\r\n    };\r\n  }\r\n\r\n  function handleFilterSelection(filterId) { // this manages the user click action to select a filter, and updates state to include filter\r\n    let foundFilter = apiData.filter(\r\n      findFilterObject(filterId)\r\n    );\r\n    setFilters(filters.concat(foundFilter));\r\n    removeSearchIngredient(filterId);\r\n  }\r\n\r\n  function removeFilter(filterId) { // this is the opposite of handleFilterSelection, it removes a filter from state / selected filters\r\n    let filterItems = filters.filter(\r\n      item => item.strIngredient1 !== filterId\r\n     \r\n    );\r\n    setFilters(filterItems);\r\n   replaceSearchIngredients(filterId);\r\n  }\r\n\r\n  function removeSearchIngredient(filterId) { // this function removes an ingredient from the search results of ingredients, when it is placed into active filters\r\n    let filterItems = apiData.filter(\r\n      item => item.strIngredient1 !== filterId\r\n    );\r\n    setApiData(filterItems);\r\n  }\r\n\r\n  function replaceSearchIngredients(filterId) { // this is the opposite of removeSearchIngredient - it replaces an ingredient in search results, when it is removed from filters.\r\n    let foundFilter = filters.filter(\r\n      findFilterObject(filterId)\r\n    );\r\n    setApiData(apiData.concat(foundFilter));\r\n  }\r\n\r\n  function compareAbc(ingr1, ingr2){ // this is used to sort the ingredients alphabetically. Helps with display sanity when adding/removing filters.\r\n    let comparison = 0;\r\n    let ingr1Str = ingr1.strIngredient1.toLowerCase();\r\n    let ingr2Str = ingr2.strIngredient1.toLowerCase();\r\n    if(ingr1Str > ingr2Str) comparison=1;\r\n    else if(ingr2Str > ingr1Str) comparison=-1;\r\n    return comparison;\r\n  }\r\n\r\n  function clearActiveFilters() { // this wipes all active filters and returns them to the search ingredients list\r\n    let filtersTemp = filters;\r\n    setFilters([])\r\n    setResultsURL(\"\");\r\n  setApiData(apiData.concat(filtersTemp));\r\n  }\r\n\r\n  function returnToSearch() { // function to change active component to search page 1\r\n    setDisplay (\"searchPage\");\r\n  }\r\n\r\n  function returnFromRecipe() { // function to change active component to the cocktails which include chosen ingredients\r\n    setDisplay(\"recipe-results\");\r\n  }\r\n\r\n  function makeResultsURL() { // function to make URL out of chosen filters, which will then get loaded by recipe-results\r\n    if(API_KEY){ // if API key is included, get real results\r\n      if(filters.length > 0){ // if there are filters to search with, go ahead and make the URL with them.\r\n        //console.log(API_KEY);\r\n        let resultsEARL = `/filter.php?i=`; // base URL format\r\n        // Append base URL with ingredients (replacing spaces with underscores):\r\n        filters.map(a => {\r\n            resultsEARL += a.strIngredient1.replace(\" \", \"_\")+\",\";\r\n            return true; // it wanted to return a value, so: it returns true. Could be changed to false if feeling moody. Or, maybe a numerical value if feeling smart.\r\n            // maybe a witty retort would be best. \r\n        })\r\n\r\n        resultsEARL = resultsEARL.substring(0, resultsEARL.length-1); // need to chop off the comma from the end of the string now. Easier than watching for the last filters item and treating it differently.\r\n        //console.log(\"Results URL is:\" + resultsEARL);\r\n        setResultsURL(resultsEARL); // update state to carry the URL\r\n        setDisplay(\"recipe-results\");\r\n\r\n      } else { // otherwise, file a complaint to console. \r\n        // NB: This should be forwarded to the DOM. The user should be informed of their transgression, and given a chance to rectify their mistake.\r\n        //console.log(\"active filters is empty. Please select some ingredients\");\r\n      }\r\n    } else { // if API is not included, use dummy results.\r\n      //console.log(\"API key not present, using fixed results\");\r\n      setResultsURL (\"\");\r\n      setDisplay(\"recipe-results\"); // there is a default JSON file that will be used by recipe-results if resultsURL.length is too short   \r\n    }\r\n  }\r\n\r\n  function makeInstructionsURL(idDrink) { // this is a simpler URL making function, since it only adds one value to the URL.\r\n    // The resulting URL will provide the JSON data for the cocktail recipe.\r\n    //console.log(\"Recipe chosen: \"+idDrink);\r\n    if(idDrink){ // this attempts to identify a null value for making the URL ( which may break the API call )\r\n      let recipeEARL = \"/lookup.php?i=\";\r\n      recipeEARL += idDrink;\r\n      // console.log(\"Recipe URL to input is: \"+recipeEARL+\" ...\");\r\n      // console.log(\"State RecipeURL before set is: \\\"\"+recipeURL+\"\\\"\");\r\n\r\n      setRecipeURL(recipeEARL);\r\n      //console.log(\"State RecipeURL is now: \" + recipeURL);\r\n      setDisplay(\"recipe-viewer\");\r\n\r\n    }\r\n    else{\r\n      console.log(\"received drink ID is null\"); // please stop trying to break the API call\r\n    }\r\n  }\r\n  \r\n  \r\n   // display main App parent component, details here\r\n    // comments inside the return field are finicky.\r\n    /*\r\n      The below is JSX for rendering elements in the browser. Apply CSS to the components as you wish. They are all buttons...\r\n      It would be possible to use an image as a background for the buttons, and select those images in the CSS based on the element id.\r\n      This might be made easier with some additional javascript. Could be cool. Or the image could appear on hover... or turn into colour on hover, instead of no colour. stng like that.\r\n    */ \r\n    return (\r\n      <div className=\"searchCocktail\">\r\n        {display === searchPage &&\r\n          <div className=\"searchPageMain\">\r\n            <h1>Search Cocktails By Ingredient</h1>\r\n            {/* <p>Click on an ingredient from the Ingredients list below, to add it to your search filters. Then, click GO to search for cocktails which contain those ingredients!</p>\r\n            <p>Use the search bar to narrow down the list.</p> */}\r\n            <div>\r\n              <h3>Selected Ingredients</h3><br />\r\n              {filters.length === 0 && <p className=\"grey\"> (Your chosen ingredients will appear here)</p>}\r\n              <div className=\"ingredientList\">\r\n              {filters.sort(compareAbc).map( i => ingredientButtons(i.strIngredient1, `${i.strIngredient1}filt`, removeFilter, undefined, \"70\"))}\r\n              </div>\r\n              {/* <p> <br />When you're ready, click GO to search for cocktails using these ingredients. To remove active filters, click on them to remove them one-by-one, or click CLEAR to remove them all. </p> */}\r\n\r\n              <div className=\"ButtonsUseFilters\">\r\n              <button className=\"pantryOption\" style={pantryButtonStyle(usePantry)}\r\n                onClick={() => { if(props.isAuthed){setUsePantry(!usePantry); clearActiveFilters();}}}\r\n              >PANTRY\r\n              \r\n              </button>\r\n              <button\r\n                onClick={() => makeResultsURL()}\r\n                className=\"go\"\r\n              >\r\n                GO\r\n              </button>\r\n              <button\r\n                onClick={() => clearActiveFilters()}\r\n                className=\"goclear\" \r\n              >\r\n                Clear\r\n              </button>\r\n              </div>\r\n            </div>\r\n            {/* <h3>Ingredients List</h3> */}\r\n            <SearchForm\r\n              searchTerm={searchTerm}\r\n              onChange={onSearchFormChange}\r\n            />\r\n            { !isFetched && <><div style={{padding: 1000}}></div><img src={loadUrl} alt=\"tungsten\" height=\"200\"></img></>}\r\n            { !usePantry && isFetched && \r\n            <SearchResults \r\n              searchTerm={searchTerm}\r\n              buttonHandler={handleFilterSelection}\r\n              cocktailIngredList={apiData}\r\n              compareAbc={compareAbc}\r\n            />\r\n            }\r\n            { usePantry && status === 'received' && props.isAuthed && <SearchResults\r\n              searchTerm={searchTerm}\r\n              buttonHandler={handleFilterSelection}\r\n              cocktailIngredList={apiData}\r\n              compareAbc={compareAbc}\r\n            />}\r\n            { usePantry && !props.isAuthed && \r\n              <>{(setUsePantry(false), clearActiveFilters())}</>\r\n            }\r\n           \r\n          </div>\r\n        }\r\n        {display === recipeResults &&\r\n          <RecipeResults\r\n            isAuthed={props.isAuthed}\r\n            userPantry={ingredients}\r\n            returnToSearch={returnToSearch}\r\n            makeInstructionsURL = {makeInstructionsURL}\r\n            filters = {filters}\r\n            resultsURL = {resultsURL}\r\n            backButtonText = {\"Return to search\"}\r\n          />\r\n        }\r\n        {display === recipeViewer && \r\n          <RecipeViewer\r\n            isAuthed={props.isAuthed}\r\n            userPantry={ingredients}\r\n            returnFromRecipe={returnFromRecipe}\r\n            recipeURL = {recipeURL}\r\n            backButtonText = {\"Return to search\"}\r\n          />\r\n        }\r\n      </div>\r\n    );\r\n  \r\n\r\n\r\n}\r\n    \r\nconst ingStyle = {\r\n  backgroundColor: 'transparent',\r\n  background: 'transparent',\r\n  margin: \"0px\",\r\n  borderRadius: '0%',\r\n  border: 'none',\r\n  fontSize: '12px',\r\n  padding: '8px',\r\n  outline:'none'\r\n}\r\n\r\n\r\nconst btntxt = {\r\n  height: \"10px\",\r\n  margin: \"10px, 0\",\r\n  fontWeight: 'normal'\r\n}\r\n\r\nconst pantryButtonStyle = (usePantry) => {\r\n\r\n  if (usePantry){ return{ backgroundColor: '#FFD700'}\r\n    }else{ return{ backgroundColor: '#87979A'} }\r\n}","import React, {useState, useEffect} from 'react';\r\nimport { login } from '../services/authService';\r\nimport { createAccount } from '../services/userService';\r\nimport useFormInput from '../hooks/useFormInput';\r\nimport { loadUrl } from '../util/imgPicker';\r\nimport { Link } from 'react-router-dom';\r\nimport '../style/style.css';\r\n\r\n// responsible for logging in or creating a user account and then navigating the user to the page that they came from. \r\n\r\nexport default function Loginform(props) {\r\n    \r\n\r\n    const name = useFormInput(\"\"); // handles form input on change etc..\r\n    const email = useFormInput(\"\"); \r\n    const password = useFormInput(\"\");\r\n\r\n    const submit = () => setStatus('logging'); // form submit button funtion call\r\n    const [status, setStatus] = useState('idle');\r\n    const [error, setError] = useState('');\r\n\r\n    const location = props.location.pathname;\r\n    const signupPage = '/signup';\r\n    const loginPage = '/login';\r\n    \r\n    useEffect(() => {\r\n        if (status === 'idle' || status ==='error') return;\r\n        let isMounted = true;\r\n        \r\n        async function update(){\r\n            try{ //email: \"sally@gmail.com\", password: \"tungsten\"\r\n                setStatus('logging'); //update display for display render loading image\r\n                \r\n                switch (location){\r\n                    case signupPage:\r\n                        await createAccount({name: name.value,email: email.value, password: password.value, pantry: [] }); //new userJson with only mandatory values\r\n                        await login({email: email.value, password: password.value}); // Added Quick auto login implementaion // \r\n                        if (isMounted){\r\n                            props.history.replace('/');\r\n                            props.history.go(-1);\r\n                            //console.log('created');\r\n                        }\r\n                        break;\r\n\r\n                    case loginPage:\r\n                        const result = await login({email: email.value, password: password.value}); // auth user details as json object\r\n                        if (result && isMounted){ // Will do for now\r\n                        }\r\n                        break;\r\n                        default: break;\r\n                    }\r\n                    \r\n                    props.history.replace('/'); // https://reactrouter.com/web/api/history // remove login page from history \r\n                    props.history.go(-1); // return to the page they where viewing before logging in\r\n                    setStatus('complete');\r\n                    //console.log('logged');\r\n                    props.isAuthed(true);\r\n\r\n                }\r\n              catch(err){\r\n                \r\n                if (err.response && err.response.status ===400){\r\n                  setStatus('error'); // Need To Implement\r\n                  setError(err.response.data);\r\n                  //console.log(err.response.data); // use this result to display reason : ie password too short etc // Should do client side validation\r\n                  return err.response.data; \r\n                }\r\n                setStatus('error');\r\n                //console.log(err) // Internal Server Error // display friendly error\r\n                return err \r\n                \r\n              }\r\n        }\r\n        update();\r\n\r\n        return () => {\r\n            setStatus('idle');\r\n            isMounted = false;\r\n        };\r\n\r\n        \r\n      },[status, email.value, password.value, props,location, name.value]); // dependencys\r\n      \r\n      // standard form nothing new here.\r\n     \r\n      return (\r\n          \r\n          <div className=\"boxme\">\r\n          {/* conditionally render header */}\r\n            {location === loginPage ? <h1 style={{textAlign:'center'}}>Login</h1> : location === signupPage? <h1 style={{textAlign:'center'}}>Create Account</h1> : <p></p>} \r\n                <div>\r\n                    {loggingImages(status)} {/* {function below} */}\r\n\r\n                     {location === signupPage &&\r\n                    <div style={{textAlign:'center', margin:'16px 0 0 0'}}>\r\n                        <input {...name} type=\"text\" className=\"form-control\" id=\"InputName\" aria-describedby=\"nameHelp\" placeholder=\"Name\"></input>\r\n                        <small id=\"nameHelp\" className=\"form-text text-muted\" role=\"alert\"></small>\r\n                    </div>}\r\n\r\n                    <div style={{textAlign:'center', margin:'16px 0 0 0'}}>\r\n                       \r\n                        <input {...email} type=\"text\" className=\"form-control\" id=\"InputEmail\" aria-describedby=\"emailHelp\" placeholder=\"Email\"></input>\r\n                        <small id=\"emailHelp\" className=\"form-text text-muted\"></small>\r\n                    </div>\r\n\r\n\r\n                    <div style={{textAlign:'center', margin:'16px 0 0 0'}}>\r\n                      \r\n                        <input {...password} type=\"password\" className=\"form-control\" id=\"InputPassword\" placeholder=\"Password\"></input>\r\n                        <small id=\"passwordHelp\" className=\"form-text text-muted\"></small>\r\n                    </div>\r\n\r\n                    <div style={{textAlign:'center', margin:'16px 0 0 0'}}>\r\n                        <small id=\"help\" className=\"form-text text-muted\">{error}</small>\r\n                    </div>\r\n\r\n\r\n                    <div>\r\n                        <button onClick={() => submit()} type=\"submit\" className=\"signIn\" >Sign in</button>\r\n                    </div> \r\n                        <div>\r\n                        {location === loginPage ? <Link to=\"/signup\" className=\"create-link\">Create Account</Link> : location === signupPage ? <Link to=\"/login\">previous</Link> : <p></p>}\r\n                    </div>\r\n\r\n\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n\r\n    \r\n}\r\n\r\nconst loggingImages = (status) => { // function that returns the log in image conditionally based on login status\r\n    return <img src={status === 'idle'? \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\" : loadUrl} alt=\"profile-img\" className=\"profile-img-card\"\r\n    />\r\n}\r\n\r\n","import { useEffect, useState } from 'react';\r\nimport { getUserObject } from '../services/authService';\r\nimport { getUser } from '../services/userService';\r\nimport { getCancelToken } from '../services/httpService';\r\n\r\n// responsible for returning the users name as jsx \r\n\r\nexport default function useLoginStatus(isAuthed){\r\n\r\n    const [status, setStatus] = useState(isAuthed.status);\r\n    const [name, setName] = useState('');\r\n\r\n    useEffect(() => {\r\n        \r\n        let isMounted = true;\r\n        const source = getCancelToken();\r\n        \r\n            async function returnUser(){\r\n                try{\r\n                    let currentUser = getUserObject(); // from token\r\n                    if(!isMounted || !currentUser || typeof currentUser === 'undefined') return setStatus(false); // if token has error\r\n                    currentUser = await getUser(currentUser, { cancelToken: source.token }); // auth user from server\r\n                    setStatus(true); // need to test this further for invalid tokens etc.\r\n                    setName(currentUser.data.name);\r\n                    \r\n                }\r\n                catch(err){\r\n                    setStatus(false);\r\n                    setName('');\r\n                }\r\n\r\n            }\r\n\r\n        returnUser();\r\n        isMounted = false;\r\n        \r\n        return () => {\r\n            isMounted = false;\r\n            source.cancel(\"canceled\"); // cancel http request\r\n        };\r\n\r\n    },);\r\n    // returns jsx element // will do for now\r\n    return (\r\n        status ? <strong>{ \" \"+ name }</strong> : <strong>logged_out</strong>\r\n    )\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport useLoginStatus from '../hooks/useLoginStatus';\r\nimport {logout} from '../services/authService';\r\nimport { likeNav, searchNav, pantryNav, loginIcon, qMark } from '../util/imgPicker';\r\nimport '../index.css';\r\n\r\n// A simple nav system for routing menu buttons to react router\r\n\r\nexport default function NavBar(props){\r\n\r\n    const setLoggingout = () => { \r\n        logout(); // deletes jwt token from storage\r\n        props.setOnlineStatus(false);   //calls parent logout in app.js etc..\r\n    }\r\n    const LoginStatus = useLoginStatus; // retrives user name\r\n    const logged = props.onLineStatus; // current login status from app.js for conditional rendering. perhaps use a context\r\n    const children = props.children;\r\n\r\n    return (\r\n            <div className=\"menu-outer\">\r\n                    <ul id=\"horizontal-list\">\r\n                    {children}\r\n                        {logged && <li><LoginStatus className=\"user-status\" isAuthed={logged}></LoginStatus></li>}\r\n                        {!logged && <li><button className=\"user-status\"> <Link to=\"/login\" className=\"nav-text\">{loginIcon()}<br />Login</Link></button></li>}\r\n                        {logged && <li><button className=\"nav-icon\"><Link to=\"/pantry\" className=\"nav-text\">{pantryNav(logged)}<br />Pantry</Link></button></li>}\r\n                        <li><button className=\"nav-icon\"><Link to=\"/search\" className=\"nav-text\">{searchNav()}<br />Search</Link></button></li>\r\n                        {logged && <li><button className=\"nav-icon\"><Link to=\"/fav/recipes\" className=\"nav-text\">{likeNav()}<br />Favourites</Link></button></li>}\r\n                        <li><button className=\"nav-icon\"><Link to=\"/about\" className=\"nav-text\">{qMark()}<br />About</Link></button></li>\r\n                        {logged && <li><button className={\"logout\"} onClick={() => logged && setLoggingout()}><p>Logout</p></button></li>}\r\n                    </ul>\r\n            </div> \r\n            );\r\n}\r\n ","import React, {useState, useEffect } from \"react\";\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Pantry from './components/Pantry';\r\nimport Fav from './components/Fav';\r\nimport SearchCocktail from './components/mergeComp/SearchCocktail';\r\nimport LoginForm from './components/LoginForm';\r\nimport { getToken } from './services/authService';\r\nimport NavBar from \"./components/SimpleNav\";\r\nimport { ping } from './services/userService';\r\nimport { appLogo } from './util/imgPicker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n\r\n// responsible for rendering navbar, controlling online status and rendering the routes conditionally. \r\n\r\nfunction App (){\r\n\r\n  \r\n  const [onLineStatus, setOnlineStatus] = useState(false);\r\n\r\n  useEffect(() => { // -- QUICK IMPLEMENTATION -- we should check token in server although any auth protected routes will reject invalid/modified tokens. \r\n    if (getToken()) \r\n    setOnlineStatus(true);\r\n\r\n  },[onLineStatus]);\r\n  // routing for paths to render components conditionally\r\n\r\n    return (\r\n      <div className=\"body\" >\r\n      hi\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n          <NavBar onLineStatus={onLineStatus} setOnlineStatus={setOnlineStatus}>{appLogo()}</NavBar><hr id=\"menu-hr\"/>\r\n            <Switch>\r\n              <Route path=\"/about\" />\r\n              <Route path=\"/somethingelse\"/>\r\n              <Route path=\"/search\" render={(props) => (<SearchCocktail {...props} isAuthed={onLineStatus} setDisplay={\"searchPage\"} key={Date.now()} />)} />\r\n            { !onLineStatus && <Route path=\"/login\" render={(props) => (<LoginForm {...props} isAuthed={setOnlineStatus} />)} />}\r\n            { !onLineStatus && <Route path=\"/signup\" render={(props) => (<LoginForm {...props} isAuthed={setOnlineStatus} />)} />}\r\n            { onLineStatus && <Route path=\"/pantry\" render={(props) => (<Pantry {...props} isAuthed={onLineStatus} />)}/>}\r\n            { onLineStatus && <Route path={\"/fav/recipes\"} render={(props) => (<Fav {...props} isAuthed={onLineStatus} setDisplay={\"Favourites\"}/>)}/>}\r\n            </Switch>\r\n          </BrowserRouter>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\nexport default App;\r\n\r\n// const test = () => {\r\n//   apiFetch(\"/lookup.php?iid=10\");\r\n// }\r\n\r\nconst pingSer = async() =>{\r\n  await ping(); // loads server if unloaded  at init. A perk of free hosting // will do for now\r\n  //console.log(result);\r\n}\r\npingSer();\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n//import logger from './services/logService';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n  <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}